import{s as Oe,n as Gt,r as Qu,b as Ju}from"../chunks/scheduler.e108d1fd.js";import{S as ze,i as He,g as rt,s as $t,m as Ir,h as et,j as bt,y as Yt,c as Nt,n as Pr,f as K,k as ut,a as vt,x as j,z as Ca,A as Ne,o as Ee,B as Ku,C as ju,D as ts,r as Ea,u as Ta,v as Fa,d as Ra,t as Sa,w as Ia}from"../chunks/index.07875641.js";import{w as rs}from"../chunks/index.0378bb41.js";function Pa(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Te=rs([]);function La(t,r,n){const i=t.slice();return i[15]=r[n],i}function es(t){let r,n,i="Here are your top tracks!",f,l,u="hover over small bubbles to view tag and count.",c,p,h=Pa(t[1]),d=[];for(let k=0;k<h.length;k+=1)d[k]=Da(La(t,h,k));return{c(){r=rt("div"),n=rt("p"),n.textContent=i,f=$t(),l=rt("p"),l.textContent=u,c=$t(),p=rt("ul");for(let k=0;k<d.length;k+=1)d[k].c();this.h()},l(k){r=et(k,"DIV",{});var x=bt(r);n=et(x,"P",{class:!0,"data-svelte-h":!0}),Yt(n)!=="svelte-js90lb"&&(n.textContent=i),f=Nt(x),l=et(x,"P",{class:!0,"data-svelte-h":!0}),Yt(l)!=="svelte-aw9mre"&&(l.textContent=u),c=Nt(x),p=et(x,"UL",{});var _=bt(p);for(let T=0;T<d.length;T+=1)d[T].l(_);_.forEach(K),x.forEach(K),this.h()},h(){ut(n,"class","svelte-1py1e1v"),ut(l,"class","svelte-1py1e1v")},m(k,x){vt(k,r,x),j(r,n),j(r,f),j(r,l),j(r,c),j(r,p);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(p,null)},p(k,x){if(x&2){h=Pa(k[1]);let _;for(_=0;_<h.length;_+=1){const T=La(k,h,_);d[_]?d[_].p(T,x):(d[_]=Da(T),d[_].c(),d[_].m(p,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=h.length}},d(k){k&&K(r),Ku(d,k)}}}function ns(t){let r,n="Gathering data...",i,f,l="Here come your top tracks..",u,c,p='<div class="svelte-1py1e1v"></div> <div class="svelte-1py1e1v"></div> <div class="svelte-1py1e1v"></div> <div class="svelte-1py1e1v"></div> <div class="svelte-1py1e1v"></div> <div class="svelte-1py1e1v"></div> <div class="svelte-1py1e1v"></div> <div class="svelte-1py1e1v"></div>';return{c(){r=rt("p"),r.textContent=n,i=$t(),f=rt("p"),f.textContent=l,u=$t(),c=rt("div"),c.innerHTML=p,this.h()},l(h){r=et(h,"P",{class:!0,"data-svelte-h":!0}),Yt(r)!=="svelte-16aa6vz"&&(r.textContent=n),i=Nt(h),f=et(h,"P",{class:!0,"data-svelte-h":!0}),Yt(f)!=="svelte-1ijf37e"&&(f.textContent=l),u=Nt(h),c=et(h,"DIV",{class:!0,"data-svelte-h":!0}),Yt(c)!=="svelte-p2clo7"&&(c.innerHTML=p),this.h()},h(){ut(r,"class","svelte-1py1e1v"),ut(f,"class","svelte-1py1e1v"),ut(c,"class","lds-roller svelte-1py1e1v")},m(h,d){vt(h,r,d),vt(h,i,d),vt(h,f,d),vt(h,u,d),vt(h,c,d)},p:Gt,d(h){h&&(K(r),K(i),K(f),K(u),K(c))}}}function Da(t){let r,n=t[15].name+"",i,f,l=t[15].artist.name+"",u;return{c(){r=rt("li"),i=Ir(n),f=Ir(" by "),u=Ir(l),this.h()},l(c){r=et(c,"LI",{class:!0});var p=bt(r);i=Pr(p,n),f=Pr(p," by "),u=Pr(p,l),p.forEach(K),this.h()},h(){ut(r,"class","svelte-1py1e1v")},m(c,p){vt(c,r,p),j(r,i),j(r,f),j(r,u)},p(c,p){p&2&&n!==(n=c[15].name+"")&&Ee(i,n),p&2&&l!==(l=c[15].artist.name+"")&&Ee(u,l)},d(c){c&&K(r)}}}function as(t){let r,n,i="What music do I listen to most?",f,l,u,c,p="Get top tracks",h,d,k,x,_,T;function y(F,P){if(F[3])return ns;if(F[1].length>0)return es}let C=y(t),E=C&&C(t);return{c(){r=rt("body"),n=rt("h1"),n.textContent=i,f=$t(),l=rt("input"),u=$t(),c=rt("button"),c.textContent=p,h=$t(),E&&E.c(),d=$t(),k=rt("div"),x=Ir(t[2]),this.h()},l(F){r=et(F,"BODY",{class:!0});var P=bt(r);n=et(P,"H1",{class:!0,"data-svelte-h":!0}),Yt(n)!=="svelte-dv52cp"&&(n.textContent=i),f=Nt(P),l=et(P,"INPUT",{type:!0,placeholder:!0,class:!0}),u=Nt(P),c=et(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Yt(c)!=="svelte-159mv3y"&&(c.textContent=p),h=Nt(P),E&&E.l(P),d=Nt(P),k=et(P,"DIV",{});var D=bt(k);x=Pr(D,t[2]),D.forEach(K),P.forEach(K),this.h()},h(){ut(n,"class","svelte-1py1e1v"),ut(l,"type","text"),ut(l,"placeholder","Enter Last.FM username"),ut(l,"class","svelte-1py1e1v"),ut(c,"class","svelte-1py1e1v"),ut(r,"class","svelte-1py1e1v")},m(F,P){vt(F,r,P),j(r,n),j(r,f),j(r,l),Ca(l,t[0]),j(r,u),j(r,c),j(r,h),E&&E.m(r,null),j(r,d),j(r,k),j(k,x),_||(T=[Ne(l,"input",t[7]),Ne(l,"keydown",t[8]),Ne(c,"click",t[5])],_=!0)},p(F,[P]){P&1&&l.value!==F[0]&&Ca(l,F[0]),C===(C=y(F))&&E?E.p(F,P):(E&&E.d(1),E=C&&C(F),E&&(E.c(),E.m(r,d))),P&4&&Ee(x,F[2])},i:Gt,o:Gt,d(F){F&&K(r),E&&E.d(),_=!1,Qu(T)}}}function is(t,r,n){let i="",f=[],l="",u=[],c=[],p=!1,h;Te.subscribe(C=>{u=C});const d=C=>{clearTimeout(h),h=setTimeout(()=>{k()},750)};async function k(){n(1,f=[]),u=[];const C=await fetch(`https://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&user=${i}&api_key=146b1de8e4d3c8c7b3efb8e22115d3af&format=json`);if(C.ok){const E=await C.json();console.log(E),n(3,p=!0),c&&(n(1,f=E.toptracks.track),n(2,l=""));for(const F of f)await x(F);n(3,p=!1),Object.keys(u).length>0&&Te.set(u)}else console.error("Top track data could not be fetched."),n(2,l="Please enter your Last.FM username.");console.log("store",u)}async function x(C){const E=await fetch(`https://ws.audioscrobbler.com/2.0/?method=track.gettoptags&artist=${C.artist.name}&track=${C.name}&api_key=146b1de8e4d3c8c7b3efb8e22115d3af&format=json`);if(E.ok){const F=await E.json();if(n(2,l=""),F.toptags&&F.toptags.tag[0]){const P=F.toptags.tag[0].name;console.log(P),P?Object.hasOwn(u,P)?u[P]++:u[P]=1:console.log("No tag was found")}}else console.error("Tag data could not be fetched."),n(2,l="Please enter your Last.FM username.")}function _(){i.trim()||n(2,l="Please enter your Last.FM username.")}function T(){i=this.value,n(0,i)}return[i,f,l,p,d,k,_,T,C=>{d(C.target.value),C.key==="Enter"&&_()}]}class os extends ze{constructor(r){super(),He(this,r,is,as,Oe,{})}}var fs={value:()=>{}};function qe(){for(var t=0,r=arguments.length,n={},i;t<r;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Lr(n)}function Lr(t){this._=t}function ls(t,r){return t.trim().split(/^|\s+/).map(function(n){var i="",f=n.indexOf(".");if(f>=0&&(i=n.slice(f+1),n=n.slice(0,f)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Lr.prototype=qe.prototype={constructor:Lr,on:function(t,r){var n=this._,i=ls(t+"",n),f,l=-1,u=i.length;if(arguments.length<2){for(;++l<u;)if((f=(t=i[l]).type)&&(f=us(n[f],t.name)))return f;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++l<u;)if(f=(t=i[l]).type)n[f]=Oa(n[f],t.name,r);else if(r==null)for(f in n)n[f]=Oa(n[f],t.name,null);return this},copy:function(){var t={},r=this._;for(var n in r)t[n]=r[n].slice();return new Lr(t)},call:function(t,r){if((f=arguments.length-2)>0)for(var n=new Array(f),i=0,f,l;i<f;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,f=l.length;i<f;++i)l[i].value.apply(r,n)},apply:function(t,r,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],f=0,l=i.length;f<l;++f)i[f].value.apply(r,n)}};function us(t,r){for(var n=0,i=t.length,f;n<i;++n)if((f=t[n]).name===r)return f.value}function Oa(t,r,n){for(var i=0,f=t.length;i<f;++i)if(t[i].name===r){t[i]=fs,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:r,value:n}),t}var Fe="http://www.w3.org/1999/xhtml";const za={svg:"http://www.w3.org/2000/svg",xhtml:Fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vr(t){var r=t+="",n=r.indexOf(":");return n>=0&&(r=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),za.hasOwnProperty(r)?{space:za[r],local:t}:t}function ss(t){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===Fe&&r.documentElement.namespaceURI===Fe?r.createElement(t):r.createElementNS(n,t)}}function cs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ei(t){var r=Vr(t);return(r.local?cs:ss)(r)}function hs(){}function Xe(t){return t==null?hs:function(){return this.querySelector(t)}}function vs(t){typeof t!="function"&&(t=Xe(t));for(var r=this._groups,n=r.length,i=new Array(n),f=0;f<n;++f)for(var l=r[f],u=l.length,c=i[f]=new Array(u),p,h,d=0;d<u;++d)(p=l[d])&&(h=t.call(p,p.__data__,d,l))&&("__data__"in p&&(h.__data__=p.__data__),c[d]=h);return new dt(i,this._parents)}function gs(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ps(){return[]}function ni(t){return t==null?ps:function(){return this.querySelectorAll(t)}}function ds(t){return function(){return gs(t.apply(this,arguments))}}function bs(t){typeof t=="function"?t=ds(t):t=ni(t);for(var r=this._groups,n=r.length,i=[],f=[],l=0;l<n;++l)for(var u=r[l],c=u.length,p,h=0;h<c;++h)(p=u[h])&&(i.push(t.call(p,p.__data__,h,u)),f.push(p));return new dt(i,f)}function ai(t){return function(){return this.matches(t)}}function ii(t){return function(r){return r.matches(t)}}var ys=Array.prototype.find;function ms(t){return function(){return ys.call(this.children,t)}}function _s(){return this.firstElementChild}function ws(t){return this.select(t==null?_s:ms(typeof t=="function"?t:ii(t)))}var xs=Array.prototype.filter;function ks(){return Array.from(this.children)}function $s(t){return function(){return xs.call(this.children,t)}}function Ns(t){return this.selectAll(t==null?ks:$s(typeof t=="function"?t:ii(t)))}function Ms(t){typeof t!="function"&&(t=ai(t));for(var r=this._groups,n=r.length,i=new Array(n),f=0;f<n;++f)for(var l=r[f],u=l.length,c=i[f]=[],p,h=0;h<u;++h)(p=l[h])&&t.call(p,p.__data__,h,l)&&c.push(p);return new dt(i,this._parents)}function oi(t){return new Array(t.length)}function As(){return new dt(this._enter||this._groups.map(oi),this._parents)}function zr(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}zr.prototype={constructor:zr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Cs(t){return function(){return t}}function Es(t,r,n,i,f,l){for(var u=0,c,p=r.length,h=l.length;u<h;++u)(c=r[u])?(c.__data__=l[u],i[u]=c):n[u]=new zr(t,l[u]);for(;u<p;++u)(c=r[u])&&(f[u]=c)}function Ts(t,r,n,i,f,l,u){var c,p,h=new Map,d=r.length,k=l.length,x=new Array(d),_;for(c=0;c<d;++c)(p=r[c])&&(x[c]=_=u.call(p,p.__data__,c,r)+"",h.has(_)?f[c]=p:h.set(_,p));for(c=0;c<k;++c)_=u.call(t,l[c],c,l)+"",(p=h.get(_))?(i[c]=p,p.__data__=l[c],h.delete(_)):n[c]=new zr(t,l[c]);for(c=0;c<d;++c)(p=r[c])&&h.get(x[c])===p&&(f[c]=p)}function Fs(t){return t.__data__}function Rs(t,r){if(!arguments.length)return Array.from(this,Fs);var n=r?Ts:Es,i=this._parents,f=this._groups;typeof t!="function"&&(t=Cs(t));for(var l=f.length,u=new Array(l),c=new Array(l),p=new Array(l),h=0;h<l;++h){var d=i[h],k=f[h],x=k.length,_=Ss(t.call(d,d&&d.__data__,h,i)),T=_.length,y=c[h]=new Array(T),C=u[h]=new Array(T),E=p[h]=new Array(x);n(d,k,y,C,E,_,r);for(var F=0,P=0,D,ft;F<T;++F)if(D=y[F]){for(F>=P&&(P=F+1);!(ft=C[P])&&++P<T;);D._next=ft||null}}return u=new dt(u,i),u._enter=c,u._exit=p,u}function Ss(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Is(){return new dt(this._exit||this._groups.map(oi),this._parents)}function Ps(t,r,n){var i=this.enter(),f=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),r!=null&&(f=r(f),f&&(f=f.selection())),n==null?l.remove():n(l),i&&f?i.merge(f).order():f}function Ls(t){for(var r=t.selection?t.selection():t,n=this._groups,i=r._groups,f=n.length,l=i.length,u=Math.min(f,l),c=new Array(f),p=0;p<u;++p)for(var h=n[p],d=i[p],k=h.length,x=c[p]=new Array(k),_,T=0;T<k;++T)(_=h[T]||d[T])&&(x[T]=_);for(;p<f;++p)c[p]=n[p];return new dt(c,this._parents)}function Ds(){for(var t=this._groups,r=-1,n=t.length;++r<n;)for(var i=t[r],f=i.length-1,l=i[f],u;--f>=0;)(u=i[f])&&(l&&u.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(u,l),l=u);return this}function Os(t){t||(t=zs);function r(k,x){return k&&x?t(k.__data__,x.__data__):!k-!x}for(var n=this._groups,i=n.length,f=new Array(i),l=0;l<i;++l){for(var u=n[l],c=u.length,p=f[l]=new Array(c),h,d=0;d<c;++d)(h=u[d])&&(p[d]=h);p.sort(r)}return new dt(f,this._parents).order()}function zs(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Hs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qs(){return Array.from(this)}function Xs(){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],f=0,l=i.length;f<l;++f){var u=i[f];if(u)return u}return null}function Bs(){let t=0;for(const r of this)++t;return t}function Gs(){return!this.node()}function Ys(t){for(var r=this._groups,n=0,i=r.length;n<i;++n)for(var f=r[n],l=0,u=f.length,c;l<u;++l)(c=f[l])&&t.call(c,c.__data__,l,f);return this}function Vs(t){return function(){this.removeAttribute(t)}}function Us(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ws(t,r){return function(){this.setAttribute(t,r)}}function Zs(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function Qs(t,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Js(t,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ks(t,r){var n=Vr(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((r==null?n.local?Us:Vs:typeof r=="function"?n.local?Js:Qs:n.local?Zs:Ws)(n,r))}function fi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function js(t){return function(){this.style.removeProperty(t)}}function tc(t,r,n){return function(){this.style.setProperty(t,r,n)}}function rc(t,r,n){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ec(t,r,n){return arguments.length>1?this.each((r==null?js:typeof r=="function"?rc:tc)(t,r,n??"")):fr(this.node(),t)}function fr(t,r){return t.style.getPropertyValue(r)||fi(t).getComputedStyle(t,null).getPropertyValue(r)}function nc(t){return function(){delete this[t]}}function ac(t,r){return function(){this[t]=r}}function ic(t,r){return function(){var n=r.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function oc(t,r){return arguments.length>1?this.each((r==null?nc:typeof r=="function"?ic:ac)(t,r)):this.node()[t]}function li(t){return t.trim().split(/^|\s+/)}function Be(t){return t.classList||new ui(t)}function ui(t){this._node=t,this._names=li(t.getAttribute("class")||"")}ui.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function si(t,r){for(var n=Be(t),i=-1,f=r.length;++i<f;)n.add(r[i])}function ci(t,r){for(var n=Be(t),i=-1,f=r.length;++i<f;)n.remove(r[i])}function fc(t){return function(){si(this,t)}}function lc(t){return function(){ci(this,t)}}function uc(t,r){return function(){(r.apply(this,arguments)?si:ci)(this,t)}}function sc(t,r){var n=li(t+"");if(arguments.length<2){for(var i=Be(this.node()),f=-1,l=n.length;++f<l;)if(!i.contains(n[f]))return!1;return!0}return this.each((typeof r=="function"?uc:r?fc:lc)(n,r))}function cc(){this.textContent=""}function hc(t){return function(){this.textContent=t}}function vc(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function gc(t){return arguments.length?this.each(t==null?cc:(typeof t=="function"?vc:hc)(t)):this.node().textContent}function pc(){this.innerHTML=""}function dc(t){return function(){this.innerHTML=t}}function bc(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function yc(t){return arguments.length?this.each(t==null?pc:(typeof t=="function"?bc:dc)(t)):this.node().innerHTML}function mc(){this.nextSibling&&this.parentNode.appendChild(this)}function _c(){return this.each(mc)}function wc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xc(){return this.each(wc)}function kc(t){var r=typeof t=="function"?t:ei(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function $c(){return null}function Nc(t,r){var n=typeof t=="function"?t:ei(t),i=r==null?$c:typeof r=="function"?r:Xe(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Mc(){var t=this.parentNode;t&&t.removeChild(this)}function Ac(){return this.each(Mc)}function Cc(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Ec(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Tc(t){return this.select(t?Ec:Cc)}function Fc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Rc(t){return function(r){t.call(this,r,this.__data__)}}function Sc(t){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");return i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),{type:r,name:n}})}function Ic(t){return function(){var r=this.__on;if(r){for(var n=0,i=-1,f=r.length,l;n<f;++n)l=r[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):r[++i]=l;++i?r.length=i:delete this.__on}}}function Pc(t,r,n){return function(){var i=this.__on,f,l=Rc(r);if(i){for(var u=0,c=i.length;u<c;++u)if((f=i[u]).type===t.type&&f.name===t.name){this.removeEventListener(f.type,f.listener,f.options),this.addEventListener(f.type,f.listener=l,f.options=n),f.value=r;return}}this.addEventListener(t.type,l,n),f={type:t.type,name:t.name,value:r,listener:l,options:n},i?i.push(f):this.__on=[f]}}function Lc(t,r,n){var i=Sc(t+""),f,l=i.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var p=0,h=c.length,d;p<h;++p)for(f=0,d=c[p];f<l;++f)if((u=i[f]).type===d.type&&u.name===d.name)return d.value}return}for(c=r?Pc:Ic,f=0;f<l;++f)this.each(c(i[f],r,n));return this}function hi(t,r,n){var i=fi(t),f=i.CustomEvent;typeof f=="function"?f=new f(r,n):(f=i.document.createEvent("Event"),n?(f.initEvent(r,n.bubbles,n.cancelable),f.detail=n.detail):f.initEvent(r,!1,!1)),t.dispatchEvent(f)}function Dc(t,r){return function(){return hi(this,t,r)}}function Oc(t,r){return function(){return hi(this,t,r.apply(this,arguments))}}function zc(t,r){return this.each((typeof r=="function"?Oc:Dc)(t,r))}function*Hc(){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],f=0,l=i.length,u;f<l;++f)(u=i[f])&&(yield u)}var vi=[null];function dt(t,r){this._groups=t,this._parents=r}function _r(){return new dt([[document.documentElement]],vi)}function qc(){return this}dt.prototype=_r.prototype={constructor:dt,select:vs,selectAll:bs,selectChild:ws,selectChildren:Ns,filter:Ms,data:Rs,enter:As,exit:Is,join:Ps,merge:Ls,selection:qc,order:Ds,sort:Os,call:Hs,nodes:qs,node:Xs,size:Bs,empty:Gs,each:Ys,attr:Ks,style:ec,property:oc,classed:sc,text:gc,html:yc,raise:_c,lower:xc,append:kc,insert:Nc,remove:Ac,clone:Tc,datum:Fc,on:Lc,dispatch:zc,[Symbol.iterator]:Hc};function Me(t){return typeof t=="string"?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],vi)}function Ge(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function gi(t,r){var n=Object.create(t.prototype);for(var i in r)n[i]=r[i];return n}function wr(){}var dr=.7,Hr=1/dr,or="\\s*([+-]?\\d+)\\s*",br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xc=/^#([0-9a-f]{3,8})$/,Bc=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),Gc=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),Yc=new RegExp(`^rgba\\(${or},${or},${or},${br}\\)$`),Vc=new RegExp(`^rgba\\(${Et},${Et},${Et},${br}\\)$`),Uc=new RegExp(`^hsl\\(${br},${Et},${Et}\\)$`),Wc=new RegExp(`^hsla\\(${br},${Et},${Et},${br}\\)$`),Ha={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ge(wr,yr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qa,formatHex:qa,formatHex8:Zc,formatHsl:Qc,formatRgb:Xa,toString:Xa});function qa(){return this.rgb().formatHex()}function Zc(){return this.rgb().formatHex8()}function Qc(){return pi(this).formatHsl()}function Xa(){return this.rgb().formatRgb()}function yr(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=Xc.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?Ba(r):n===3?new gt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Fr(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Fr(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Bc.exec(t))?new gt(r[1],r[2],r[3],1):(r=Gc.exec(t))?new gt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Yc.exec(t))?Fr(r[1],r[2],r[3],r[4]):(r=Vc.exec(t))?Fr(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Uc.exec(t))?Va(r[1],r[2]/100,r[3]/100,1):(r=Wc.exec(t))?Va(r[1],r[2]/100,r[3]/100,r[4]):Ha.hasOwnProperty(t)?Ba(Ha[t]):t==="transparent"?new gt(NaN,NaN,NaN,0):null}function Ba(t){return new gt(t>>16&255,t>>8&255,t&255,1)}function Fr(t,r,n,i){return i<=0&&(t=r=n=NaN),new gt(t,r,n,i)}function Jc(t){return t instanceof wr||(t=yr(t)),t?(t=t.rgb(),new gt(t.r,t.g,t.b,t.opacity)):new gt}function Re(t,r,n,i){return arguments.length===1?Jc(t):new gt(t,r,n,i??1)}function gt(t,r,n,i){this.r=+t,this.g=+r,this.b=+n,this.opacity=+i}Ge(gt,Re,gi(wr,{brighter(t){return t=t==null?Hr:Math.pow(Hr,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dr:Math.pow(dr,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gt(Vt(this.r),Vt(this.g),Vt(this.b),qr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ga,formatHex:Ga,formatHex8:Kc,formatRgb:Ya,toString:Ya}));function Ga(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}`}function Kc(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}${Bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ya(){const t=qr(this.opacity);return`${t===1?"rgb(":"rgba("}${Vt(this.r)}, ${Vt(this.g)}, ${Vt(this.b)}${t===1?")":`, ${t})`}`}function qr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bt(t){return t=Vt(t),(t<16?"0":"")+t.toString(16)}function Va(t,r,n,i){return i<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new kt(t,r,n,i)}function pi(t){if(t instanceof kt)return new kt(t.h,t.s,t.l,t.opacity);if(t instanceof wr||(t=yr(t)),!t)return new kt;if(t instanceof kt)return t;t=t.rgb();var r=t.r/255,n=t.g/255,i=t.b/255,f=Math.min(r,n,i),l=Math.max(r,n,i),u=NaN,c=l-f,p=(l+f)/2;return c?(r===l?u=(n-i)/c+(n<i)*6:n===l?u=(i-r)/c+2:u=(r-n)/c+4,c/=p<.5?l+f:2-l-f,u*=60):c=p>0&&p<1?0:u,new kt(u,c,p,t.opacity)}function jc(t,r,n,i){return arguments.length===1?pi(t):new kt(t,r,n,i??1)}function kt(t,r,n,i){this.h=+t,this.s=+r,this.l=+n,this.opacity=+i}Ge(kt,jc,gi(wr,{brighter(t){return t=t==null?Hr:Math.pow(Hr,t),new kt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dr:Math.pow(dr,t),new kt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,f=2*n-i;return new gt(Ae(t>=240?t-240:t+120,f,i),Ae(t,f,i),Ae(t<120?t+240:t-120,f,i),this.opacity)},clamp(){return new kt(Ua(this.h),Rr(this.s),Rr(this.l),qr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qr(this.opacity);return`${t===1?"hsl(":"hsla("}${Ua(this.h)}, ${Rr(this.s)*100}%, ${Rr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ua(t){return t=(t||0)%360,t<0?t+360:t}function Rr(t){return Math.max(0,Math.min(1,t||0))}function Ae(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const di=t=>()=>t;function t0(t,r){return function(n){return t+n*r}}function r0(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(i){return Math.pow(t+i*r,n)}}function e0(t){return(t=+t)==1?bi:function(r,n){return n-r?r0(r,n,t):di(isNaN(r)?n:r)}}function bi(t,r){var n=r-t;return n?t0(t,n):di(isNaN(t)?r:t)}const Wa=function t(r){var n=e0(r);function i(f,l){var u=n((f=Re(f)).r,(l=Re(l)).r),c=n(f.g,l.g),p=n(f.b,l.b),h=bi(f.opacity,l.opacity);return function(d){return f.r=u(d),f.g=c(d),f.b=p(d),f.opacity=h(d),f+""}}return i.gamma=t,i}(1);function zt(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}var Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ce=new RegExp(Se.source,"g");function n0(t){return function(){return t}}function a0(t){return function(r){return t(r)+""}}function i0(t,r){var n=Se.lastIndex=Ce.lastIndex=0,i,f,l,u=-1,c=[],p=[];for(t=t+"",r=r+"";(i=Se.exec(t))&&(f=Ce.exec(r));)(l=f.index)>n&&(l=r.slice(n,l),c[u]?c[u]+=l:c[++u]=l),(i=i[0])===(f=f[0])?c[u]?c[u]+=f:c[++u]=f:(c[++u]=null,p.push({i:u,x:zt(i,f)})),n=Ce.lastIndex;return n<r.length&&(l=r.slice(n),c[u]?c[u]+=l:c[++u]=l),c.length<2?p[0]?a0(p[0].x):n0(r):(r=p.length,function(h){for(var d=0,k;d<r;++d)c[(k=p[d]).i]=k.x(h);return c.join("")})}var Za=180/Math.PI,Ie={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yi(t,r,n,i,f,l){var u,c,p;return(u=Math.sqrt(t*t+r*r))&&(t/=u,r/=u),(p=t*n+r*i)&&(n-=t*p,i-=r*p),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,p/=c),t*i<r*n&&(t=-t,r=-r,p=-p,u=-u),{translateX:f,translateY:l,rotate:Math.atan2(r,t)*Za,skewX:Math.atan(p)*Za,scaleX:u,scaleY:c}}var Sr;function o0(t){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?Ie:yi(r.a,r.b,r.c,r.d,r.e,r.f)}function f0(t){return t==null||(Sr||(Sr=document.createElementNS("http://www.w3.org/2000/svg","g")),Sr.setAttribute("transform",t),!(t=Sr.transform.baseVal.consolidate()))?Ie:(t=t.matrix,yi(t.a,t.b,t.c,t.d,t.e,t.f))}function mi(t,r,n,i){function f(h){return h.length?h.pop()+" ":""}function l(h,d,k,x,_,T){if(h!==k||d!==x){var y=_.push("translate(",null,r,null,n);T.push({i:y-4,x:zt(h,k)},{i:y-2,x:zt(d,x)})}else(k||x)&&_.push("translate("+k+r+x+n)}function u(h,d,k,x){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),x.push({i:k.push(f(k)+"rotate(",null,i)-2,x:zt(h,d)})):d&&k.push(f(k)+"rotate("+d+i)}function c(h,d,k,x){h!==d?x.push({i:k.push(f(k)+"skewX(",null,i)-2,x:zt(h,d)}):d&&k.push(f(k)+"skewX("+d+i)}function p(h,d,k,x,_,T){if(h!==k||d!==x){var y=_.push(f(_)+"scale(",null,",",null,")");T.push({i:y-4,x:zt(h,k)},{i:y-2,x:zt(d,x)})}else(k!==1||x!==1)&&_.push(f(_)+"scale("+k+","+x+")")}return function(h,d){var k=[],x=[];return h=t(h),d=t(d),l(h.translateX,h.translateY,d.translateX,d.translateY,k,x),u(h.rotate,d.rotate,k,x),c(h.skewX,d.skewX,k,x),p(h.scaleX,h.scaleY,d.scaleX,d.scaleY,k,x),h=d=null,function(_){for(var T=-1,y=x.length,C;++T<y;)k[(C=x[T]).i]=C.x(_);return k.join("")}}}var l0=mi(o0,"px, ","px)","deg)"),u0=mi(f0,", ",")",")"),lr=0,vr=0,hr=0,_i=1e3,Xr,gr,Br=0,Ut=0,Ur=0,mr=typeof performance=="object"&&performance.now?performance:Date,wi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ye(){return Ut||(wi(s0),Ut=mr.now()+Ur)}function s0(){Ut=0}function Gr(){this._call=this._time=this._next=null}Gr.prototype=Ve.prototype={constructor:Gr,restart:function(t,r,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ye():+n)+(r==null?0:+r),!this._next&&gr!==this&&(gr?gr._next=this:Xr=this,gr=this),this._call=t,this._time=n,Pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pe())}};function Ve(t,r,n){var i=new Gr;return i.restart(t,r,n),i}function c0(){Ye(),++lr;for(var t=Xr,r;t;)(r=Ut-t._time)>=0&&t._call.call(void 0,r),t=t._next;--lr}function Qa(){Ut=(Br=mr.now())+Ur,lr=vr=0;try{c0()}finally{lr=0,v0(),Ut=0}}function h0(){var t=mr.now(),r=t-Br;r>_i&&(Ur-=r,Br=t)}function v0(){for(var t,r=Xr,n,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:Xr=n);gr=t,Pe(i)}function Pe(t){if(!lr){vr&&(vr=clearTimeout(vr));var r=t-Ut;r>24?(t<1/0&&(vr=setTimeout(Qa,t-mr.now()-Ur)),hr&&(hr=clearInterval(hr))):(hr||(Br=mr.now(),hr=setInterval(h0,_i)),lr=1,wi(Qa))}}function Ja(t,r,n){var i=new Gr;return r=r==null?0:+r,i.restart(f=>{i.stop(),t(f+r)},r,n),i}var g0=qe("start","end","cancel","interrupt"),p0=[],xi=0,Ka=1,Le=2,Dr=3,ja=4,De=5,Or=6;function Wr(t,r,n,i,f,l){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;d0(t,n,{name:r,index:i,group:f,on:g0,tween:p0,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:xi})}function Ue(t,r){var n=Mt(t,r);if(n.state>xi)throw new Error("too late; already scheduled");return n}function Tt(t,r){var n=Mt(t,r);if(n.state>Dr)throw new Error("too late; already running");return n}function Mt(t,r){var n=t.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function d0(t,r,n){var i=t.__transition,f;i[r]=n,n.timer=Ve(l,0,n.time);function l(h){n.state=Ka,n.timer.restart(u,n.delay,n.time),n.delay<=h&&u(h-n.delay)}function u(h){var d,k,x,_;if(n.state!==Ka)return p();for(d in i)if(_=i[d],_.name===n.name){if(_.state===Dr)return Ja(u);_.state===ja?(_.state=Or,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[d]):+d<r&&(_.state=Or,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[d])}if(Ja(function(){n.state===Dr&&(n.state=ja,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Le,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Le){for(n.state=Dr,f=new Array(x=n.tween.length),d=0,k=-1;d<x;++d)(_=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(f[++k]=_);f.length=k+1}}function c(h){for(var d=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(p),n.state=De,1),k=-1,x=f.length;++k<x;)f[k].call(t,d);n.state===De&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){n.state=Or,n.timer.stop(),delete i[r];for(var h in i)return;delete t.__transition}}function b0(t,r){var n=t.__transition,i,f,l=!0,u;if(n){r=r==null?null:r+"";for(u in n){if((i=n[u]).name!==r){l=!1;continue}f=i.state>Le&&i.state<De,i.state=Or,i.timer.stop(),i.on.call(f?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}l&&delete t.__transition}}function y0(t){return this.each(function(){b0(this,t)})}function m0(t,r){var n,i;return function(){var f=Tt(this,t),l=f.tween;if(l!==n){i=n=l;for(var u=0,c=i.length;u<c;++u)if(i[u].name===r){i=i.slice(),i.splice(u,1);break}}f.tween=i}}function _0(t,r,n){var i,f;if(typeof n!="function")throw new Error;return function(){var l=Tt(this,t),u=l.tween;if(u!==i){f=(i=u).slice();for(var c={name:r,value:n},p=0,h=f.length;p<h;++p)if(f[p].name===r){f[p]=c;break}p===h&&f.push(c)}l.tween=f}}function w0(t,r){var n=this._id;if(t+="",arguments.length<2){for(var i=Mt(this.node(),n).tween,f=0,l=i.length,u;f<l;++f)if((u=i[f]).name===t)return u.value;return null}return this.each((r==null?m0:_0)(n,t,r))}function We(t,r,n){var i=t._id;return t.each(function(){var f=Tt(this,i);(f.value||(f.value={}))[r]=n.apply(this,arguments)}),function(f){return Mt(f,i).value[r]}}function ki(t,r){var n;return(typeof r=="number"?zt:r instanceof yr?Wa:(n=yr(r))?(r=n,Wa):i0)(t,r)}function x0(t){return function(){this.removeAttribute(t)}}function k0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $0(t,r,n){var i,f=n+"",l;return function(){var u=this.getAttribute(t);return u===f?null:u===i?l:l=r(i=u,n)}}function N0(t,r,n){var i,f=n+"",l;return function(){var u=this.getAttributeNS(t.space,t.local);return u===f?null:u===i?l:l=r(i=u,n)}}function M0(t,r,n){var i,f,l;return function(){var u,c=n(this),p;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),p=c+"",u===p?null:u===i&&p===f?l:(f=p,l=r(i=u,c)))}}function A0(t,r,n){var i,f,l;return function(){var u,c=n(this),p;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),p=c+"",u===p?null:u===i&&p===f?l:(f=p,l=r(i=u,c)))}}function C0(t,r){var n=Vr(t),i=n==="transform"?u0:ki;return this.attrTween(t,typeof r=="function"?(n.local?A0:M0)(n,i,We(this,"attr."+t,r)):r==null?(n.local?k0:x0)(n):(n.local?N0:$0)(n,i,r))}function E0(t,r){return function(n){this.setAttribute(t,r.call(this,n))}}function T0(t,r){return function(n){this.setAttributeNS(t.space,t.local,r.call(this,n))}}function F0(t,r){var n,i;function f(){var l=r.apply(this,arguments);return l!==i&&(n=(i=l)&&T0(t,l)),n}return f._value=r,f}function R0(t,r){var n,i;function f(){var l=r.apply(this,arguments);return l!==i&&(n=(i=l)&&E0(t,l)),n}return f._value=r,f}function S0(t,r){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var i=Vr(t);return this.tween(n,(i.local?F0:R0)(i,r))}function I0(t,r){return function(){Ue(this,t).delay=+r.apply(this,arguments)}}function P0(t,r){return r=+r,function(){Ue(this,t).delay=r}}function L0(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?I0:P0)(r,t)):Mt(this.node(),r).delay}function D0(t,r){return function(){Tt(this,t).duration=+r.apply(this,arguments)}}function O0(t,r){return r=+r,function(){Tt(this,t).duration=r}}function z0(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?D0:O0)(r,t)):Mt(this.node(),r).duration}function H0(t,r){if(typeof r!="function")throw new Error;return function(){Tt(this,t).ease=r}}function q0(t){var r=this._id;return arguments.length?this.each(H0(r,t)):Mt(this.node(),r).ease}function X0(t,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;Tt(this,t).ease=n}}function B0(t){if(typeof t!="function")throw new Error;return this.each(X0(this._id,t))}function G0(t){typeof t!="function"&&(t=ai(t));for(var r=this._groups,n=r.length,i=new Array(n),f=0;f<n;++f)for(var l=r[f],u=l.length,c=i[f]=[],p,h=0;h<u;++h)(p=l[h])&&t.call(p,p.__data__,h,l)&&c.push(p);return new It(i,this._parents,this._name,this._id)}function Y0(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,n=t._groups,i=r.length,f=n.length,l=Math.min(i,f),u=new Array(i),c=0;c<l;++c)for(var p=r[c],h=n[c],d=p.length,k=u[c]=new Array(d),x,_=0;_<d;++_)(x=p[_]||h[_])&&(k[_]=x);for(;c<i;++c)u[c]=r[c];return new It(u,this._parents,this._name,this._id)}function V0(t){return(t+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function U0(t,r,n){var i,f,l=V0(r)?Ue:Tt;return function(){var u=l(this,t),c=u.on;c!==i&&(f=(i=c).copy()).on(r,n),u.on=f}}function W0(t,r){var n=this._id;return arguments.length<2?Mt(this.node(),n).on.on(t):this.each(U0(n,t,r))}function Z0(t){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==t)return;r&&r.removeChild(this)}}function Q0(){return this.on("end.remove",Z0(this._id))}function J0(t){var r=this._name,n=this._id;typeof t!="function"&&(t=Xe(t));for(var i=this._groups,f=i.length,l=new Array(f),u=0;u<f;++u)for(var c=i[u],p=c.length,h=l[u]=new Array(p),d,k,x=0;x<p;++x)(d=c[x])&&(k=t.call(d,d.__data__,x,c))&&("__data__"in d&&(k.__data__=d.__data__),h[x]=k,Wr(h[x],r,n,x,h,Mt(d,n)));return new It(l,this._parents,r,n)}function K0(t){var r=this._name,n=this._id;typeof t!="function"&&(t=ni(t));for(var i=this._groups,f=i.length,l=[],u=[],c=0;c<f;++c)for(var p=i[c],h=p.length,d,k=0;k<h;++k)if(d=p[k]){for(var x=t.call(d,d.__data__,k,p),_,T=Mt(d,n),y=0,C=x.length;y<C;++y)(_=x[y])&&Wr(_,r,n,y,x,T);l.push(x),u.push(d)}return new It(l,u,r,n)}var j0=_r.prototype.constructor;function th(){return new j0(this._groups,this._parents)}function rh(t,r){var n,i,f;return function(){var l=fr(this,t),u=(this.style.removeProperty(t),fr(this,t));return l===u?null:l===n&&u===i?f:f=r(n=l,i=u)}}function $i(t){return function(){this.style.removeProperty(t)}}function eh(t,r,n){var i,f=n+"",l;return function(){var u=fr(this,t);return u===f?null:u===i?l:l=r(i=u,n)}}function nh(t,r,n){var i,f,l;return function(){var u=fr(this,t),c=n(this),p=c+"";return c==null&&(p=c=(this.style.removeProperty(t),fr(this,t))),u===p?null:u===i&&p===f?l:(f=p,l=r(i=u,c))}}function ah(t,r){var n,i,f,l="style."+r,u="end."+l,c;return function(){var p=Tt(this,t),h=p.on,d=p.value[l]==null?c||(c=$i(r)):void 0;(h!==n||f!==d)&&(i=(n=h).copy()).on(u,f=d),p.on=i}}function ih(t,r,n){var i=(t+="")=="transform"?l0:ki;return r==null?this.styleTween(t,rh(t,i)).on("end.style."+t,$i(t)):typeof r=="function"?this.styleTween(t,nh(t,i,We(this,"style."+t,r))).each(ah(this._id,t)):this.styleTween(t,eh(t,i,r),n).on("end.style."+t,null)}function oh(t,r,n){return function(i){this.style.setProperty(t,r.call(this,i),n)}}function fh(t,r,n){var i,f;function l(){var u=r.apply(this,arguments);return u!==f&&(i=(f=u)&&oh(t,u,n)),i}return l._value=r,l}function lh(t,r,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,fh(t,r,n??""))}function uh(t){return function(){this.textContent=t}}function sh(t){return function(){var r=t(this);this.textContent=r??""}}function ch(t){return this.tween("text",typeof t=="function"?sh(We(this,"text",t)):uh(t==null?"":t+""))}function hh(t){return function(r){this.textContent=t.call(this,r)}}function vh(t){var r,n;function i(){var f=t.apply(this,arguments);return f!==n&&(r=(n=f)&&hh(f)),r}return i._value=t,i}function gh(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,vh(t))}function ph(){for(var t=this._name,r=this._id,n=Ni(),i=this._groups,f=i.length,l=0;l<f;++l)for(var u=i[l],c=u.length,p,h=0;h<c;++h)if(p=u[h]){var d=Mt(p,r);Wr(p,t,n,h,u,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new It(i,this._parents,t,n)}function dh(){var t,r,n=this,i=n._id,f=n.size();return new Promise(function(l,u){var c={value:u},p={value:function(){--f===0&&l()}};n.each(function(){var h=Tt(this,i),d=h.on;d!==t&&(r=(t=d).copy(),r._.cancel.push(c),r._.interrupt.push(c),r._.end.push(p)),h.on=r}),f===0&&l()})}var bh=0;function It(t,r,n,i){this._groups=t,this._parents=r,this._name=n,this._id=i}function Ni(){return++bh}var St=_r.prototype;It.prototype={constructor:It,select:J0,selectAll:K0,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:G0,merge:Y0,selection:th,transition:ph,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:W0,attr:C0,attrTween:S0,style:ih,styleTween:lh,text:ch,textTween:gh,remove:Q0,tween:w0,delay:L0,duration:z0,ease:q0,easeVarying:B0,end:dh,[Symbol.iterator]:St[Symbol.iterator]};function yh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var mh={time:null,delay:0,duration:250,ease:yh};function _h(t,r){for(var n;!(n=t.__transition)||!(n=n[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return n}function wh(t){var r,n;t instanceof It?(r=t._id,t=t._name):(r=Ni(),(n=mh).time=Ye(),t=t==null?null:t+"");for(var i=this._groups,f=i.length,l=0;l<f;++l)for(var u=i[l],c=u.length,p,h=0;h<c;++h)(p=u[h])&&Wr(p,t,r,h,u,n||_h(p,r));return new It(i,this._parents,t,r)}_r.prototype.interrupt=y0;_r.prototype.transition=wh;function xh(t,r){var n,i=1;t==null&&(t=0),r==null&&(r=0);function f(){var l,u=n.length,c,p=0,h=0;for(l=0;l<u;++l)c=n[l],p+=c.x,h+=c.y;for(p=(p/u-t)*i,h=(h/u-r)*i,l=0;l<u;++l)c=n[l],c.x-=p,c.y-=h}return f.initialize=function(l){n=l},f.x=function(l){return arguments.length?(t=+l,f):t},f.y=function(l){return arguments.length?(r=+l,f):r},f.strength=function(l){return arguments.length?(i=+l,f):i},f}function kh(t){const r=+this._x.call(null,t),n=+this._y.call(null,t);return Mi(this.cover(r,n),r,n,t)}function Mi(t,r,n,i){if(isNaN(r)||isNaN(n))return t;var f,l=t._root,u={data:i},c=t._x0,p=t._y0,h=t._x1,d=t._y1,k,x,_,T,y,C,E,F;if(!l)return t._root=u,t;for(;l.length;)if((y=r>=(k=(c+h)/2))?c=k:h=k,(C=n>=(x=(p+d)/2))?p=x:d=x,f=l,!(l=l[E=C<<1|y]))return f[E]=u,t;if(_=+t._x.call(null,l.data),T=+t._y.call(null,l.data),r===_&&n===T)return u.next=l,f?f[E]=u:t._root=u,t;do f=f?f[E]=new Array(4):t._root=new Array(4),(y=r>=(k=(c+h)/2))?c=k:h=k,(C=n>=(x=(p+d)/2))?p=x:d=x;while((E=C<<1|y)===(F=(T>=x)<<1|_>=k));return f[F]=l,f[E]=u,t}function $h(t){var r,n,i=t.length,f,l,u=new Array(i),c=new Array(i),p=1/0,h=1/0,d=-1/0,k=-1/0;for(n=0;n<i;++n)isNaN(f=+this._x.call(null,r=t[n]))||isNaN(l=+this._y.call(null,r))||(u[n]=f,c[n]=l,f<p&&(p=f),f>d&&(d=f),l<h&&(h=l),l>k&&(k=l));if(p>d||h>k)return this;for(this.cover(p,h).cover(d,k),n=0;n<i;++n)Mi(this,u[n],c[n],t[n]);return this}function Nh(t,r){if(isNaN(t=+t)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,f=this._x1,l=this._y1;if(isNaN(n))f=(n=Math.floor(t))+1,l=(i=Math.floor(r))+1;else{for(var u=f-n||1,c=this._root,p,h;n>t||t>=f||i>r||r>=l;)switch(h=(r<i)<<1|t<n,p=new Array(4),p[h]=c,c=p,u*=2,h){case 0:f=n+u,l=i+u;break;case 1:n=f-u,l=i+u;break;case 2:f=n+u,i=l-u;break;case 3:n=f-u,i=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=f,this._y1=l,this}function Mh(){var t=[];return this.visit(function(r){if(!r.length)do t.push(r.data);while(r=r.next)}),t}function Ah(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function st(t,r,n,i,f){this.node=t,this.x0=r,this.y0=n,this.x1=i,this.y1=f}function Ch(t,r,n){var i,f=this._x0,l=this._y0,u,c,p,h,d=this._x1,k=this._y1,x=[],_=this._root,T,y;for(_&&x.push(new st(_,f,l,d,k)),n==null?n=1/0:(f=t-n,l=r-n,d=t+n,k=r+n,n*=n);T=x.pop();)if(!(!(_=T.node)||(u=T.x0)>d||(c=T.y0)>k||(p=T.x1)<f||(h=T.y1)<l))if(_.length){var C=(u+p)/2,E=(c+h)/2;x.push(new st(_[3],C,E,p,h),new st(_[2],u,E,C,h),new st(_[1],C,c,p,E),new st(_[0],u,c,C,E)),(y=(r>=E)<<1|t>=C)&&(T=x[x.length-1],x[x.length-1]=x[x.length-1-y],x[x.length-1-y]=T)}else{var F=t-+this._x.call(null,_.data),P=r-+this._y.call(null,_.data),D=F*F+P*P;if(D<n){var ft=Math.sqrt(n=D);f=t-ft,l=r-ft,d=t+ft,k=r+ft,i=_.data}}return i}function Eh(t){if(isNaN(d=+this._x.call(null,t))||isNaN(k=+this._y.call(null,t)))return this;var r,n=this._root,i,f,l,u=this._x0,c=this._y0,p=this._x1,h=this._y1,d,k,x,_,T,y,C,E;if(!n)return this;if(n.length)for(;;){if((T=d>=(x=(u+p)/2))?u=x:p=x,(y=k>=(_=(c+h)/2))?c=_:h=_,r=n,!(n=n[C=y<<1|T]))return this;if(!n.length)break;(r[C+1&3]||r[C+2&3]||r[C+3&3])&&(i=r,E=C)}for(;n.data!==t;)if(f=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,f?(l?f.next=l:delete f.next,this):r?(l?r[C]=l:delete r[C],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[E]=n:this._root=n),this):(this._root=l,this)}function Th(t){for(var r=0,n=t.length;r<n;++r)this.remove(t[r]);return this}function Fh(){return this._root}function Rh(){var t=0;return this.visit(function(r){if(!r.length)do++t;while(r=r.next)}),t}function Sh(t){var r=[],n,i=this._root,f,l,u,c,p;for(i&&r.push(new st(i,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!t(i=n.node,l=n.x0,u=n.y0,c=n.x1,p=n.y1)&&i.length){var h=(l+c)/2,d=(u+p)/2;(f=i[3])&&r.push(new st(f,h,d,c,p)),(f=i[2])&&r.push(new st(f,l,d,h,p)),(f=i[1])&&r.push(new st(f,h,u,c,d)),(f=i[0])&&r.push(new st(f,l,u,h,d))}return this}function Ih(t){var r=[],n=[],i;for(this._root&&r.push(new st(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var f=i.node;if(f.length){var l,u=i.x0,c=i.y0,p=i.x1,h=i.y1,d=(u+p)/2,k=(c+h)/2;(l=f[0])&&r.push(new st(l,u,c,d,k)),(l=f[1])&&r.push(new st(l,d,c,p,k)),(l=f[2])&&r.push(new st(l,u,k,d,h)),(l=f[3])&&r.push(new st(l,d,k,p,h))}n.push(i)}for(;i=n.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Ph(t){return t[0]}function Lh(t){return arguments.length?(this._x=t,this):this._x}function Dh(t){return t[1]}function Oh(t){return arguments.length?(this._y=t,this):this._y}function Ze(t,r,n){var i=new Qe(r??Ph,n??Dh,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function Qe(t,r,n,i,f,l){this._x=t,this._y=r,this._x0=n,this._y0=i,this._x1=f,this._y1=l,this._root=void 0}function ti(t){for(var r={data:t.data},n=r;t=t.next;)n=n.next={data:t.data};return r}var ct=Ze.prototype=Qe.prototype;ct.copy=function(){var t=new Qe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,i;if(!r)return t;if(!r.length)return t._root=ti(r),t;for(n=[{source:r,target:t._root=new Array(4)}];r=n.pop();)for(var f=0;f<4;++f)(i=r.source[f])&&(i.length?n.push({source:i,target:r.target[f]=new Array(4)}):r.target[f]=ti(i));return t};ct.add=kh;ct.addAll=$h;ct.cover=Nh;ct.data=Mh;ct.extent=Ah;ct.find=Ch;ct.remove=Eh;ct.removeAll=Th;ct.root=Fh;ct.size=Rh;ct.visit=Sh;ct.visitAfter=Ih;ct.x=Lh;ct.y=Oh;function Yr(t){return function(){return t}}function ir(t){return(t()-.5)*1e-6}function zh(t){return t.x+t.vx}function Hh(t){return t.y+t.vy}function qh(t){var r,n,i,f=1,l=1;typeof t!="function"&&(t=Yr(t==null?1:+t));function u(){for(var h,d=r.length,k,x,_,T,y,C,E=0;E<l;++E)for(k=Ze(r,zh,Hh).visitAfter(c),h=0;h<d;++h)x=r[h],y=n[x.index],C=y*y,_=x.x+x.vx,T=x.y+x.vy,k.visit(F);function F(P,D,ft,O,yt){var V=P.data,Wt=P.r,lt=y+Wt;if(V){if(V.index>x.index){var At=_-V.x-V.vx,Ct=T-V.y-V.vy,mt=At*At+Ct*Ct;mt<lt*lt&&(At===0&&(At=ir(i),mt+=At*At),Ct===0&&(Ct=ir(i),mt+=Ct*Ct),mt=(lt-(mt=Math.sqrt(mt)))/mt*f,x.vx+=(At*=mt)*(lt=(Wt*=Wt)/(C+Wt)),x.vy+=(Ct*=mt)*lt,V.vx-=At*(lt=1-lt),V.vy-=Ct*lt)}return}return D>_+lt||O<_-lt||ft>T+lt||yt<T-lt}}function c(h){if(h.data)return h.r=n[h.data.index];for(var d=h.r=0;d<4;++d)h[d]&&h[d].r>h.r&&(h.r=h[d].r)}function p(){if(r){var h,d=r.length,k;for(n=new Array(d),h=0;h<d;++h)k=r[h],n[k.index]=+t(k,h,r)}}return u.initialize=function(h,d){r=h,i=d,p()},u.iterations=function(h){return arguments.length?(l=+h,u):l},u.strength=function(h){return arguments.length?(f=+h,u):f},u.radius=function(h){return arguments.length?(t=typeof h=="function"?h:Yr(+h),p(),u):t},u}const Xh=1664525,Bh=1013904223,ri=4294967296;function Gh(){let t=1;return()=>(t=(Xh*t+Bh)%ri)/ri}function Yh(t){return t.x}function Vh(t){return t.y}var Uh=10,Wh=Math.PI*(3-Math.sqrt(5));function Zh(t){var r,n=1,i=.001,f=1-Math.pow(i,1/300),l=0,u=.6,c=new Map,p=Ve(k),h=qe("tick","end"),d=Gh();t==null&&(t=[]);function k(){x(),h.call("tick",r),n<i&&(p.stop(),h.call("end",r))}function x(y){var C,E=t.length,F;y===void 0&&(y=1);for(var P=0;P<y;++P)for(n+=(l-n)*f,c.forEach(function(D){D(n)}),C=0;C<E;++C)F=t[C],F.fx==null?F.x+=F.vx*=u:(F.x=F.fx,F.vx=0),F.fy==null?F.y+=F.vy*=u:(F.y=F.fy,F.vy=0);return r}function _(){for(var y=0,C=t.length,E;y<C;++y){if(E=t[y],E.index=y,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var F=Uh*Math.sqrt(.5+y),P=y*Wh;E.x=F*Math.cos(P),E.y=F*Math.sin(P)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function T(y){return y.initialize&&y.initialize(t,d),y}return _(),r={tick:x,restart:function(){return p.restart(k),r},stop:function(){return p.stop(),r},nodes:function(y){return arguments.length?(t=y,_(),c.forEach(T),r):t},alpha:function(y){return arguments.length?(n=+y,r):n},alphaMin:function(y){return arguments.length?(i=+y,r):i},alphaDecay:function(y){return arguments.length?(f=+y,r):+f},alphaTarget:function(y){return arguments.length?(l=+y,r):l},velocityDecay:function(y){return arguments.length?(u=1-y,r):1-u},randomSource:function(y){return arguments.length?(d=y,c.forEach(T),r):d},force:function(y,C){return arguments.length>1?(C==null?c.delete(y):c.set(y,T(C)),r):c.get(y)},find:function(y,C,E){var F=0,P=t.length,D,ft,O,yt,V;for(E==null?E=1/0:E*=E,F=0;F<P;++F)yt=t[F],D=y-yt.x,ft=C-yt.y,O=D*D+ft*ft,O<E&&(V=yt,E=O);return V},on:function(y,C){return arguments.length>1?(h.on(y,C),r):h.on(y)}}}function Qh(){var t,r,n,i,f=Yr(-30),l,u=1,c=1/0,p=.81;function h(_){var T,y=t.length,C=Ze(t,Yh,Vh).visitAfter(k);for(i=_,T=0;T<y;++T)r=t[T],C.visit(x)}function d(){if(t){var _,T=t.length,y;for(l=new Array(T),_=0;_<T;++_)y=t[_],l[y.index]=+f(y,_,t)}}function k(_){var T=0,y,C,E=0,F,P,D;if(_.length){for(F=P=D=0;D<4;++D)(y=_[D])&&(C=Math.abs(y.value))&&(T+=y.value,E+=C,F+=C*y.x,P+=C*y.y);_.x=F/E,_.y=P/E}else{y=_,y.x=y.data.x,y.y=y.data.y;do T+=l[y.data.index];while(y=y.next)}_.value=T}function x(_,T,y,C){if(!_.value)return!0;var E=_.x-r.x,F=_.y-r.y,P=C-T,D=E*E+F*F;if(P*P/p<D)return D<c&&(E===0&&(E=ir(n),D+=E*E),F===0&&(F=ir(n),D+=F*F),D<u&&(D=Math.sqrt(u*D)),r.vx+=E*_.value*i/D,r.vy+=F*_.value*i/D),!0;if(_.length||D>=c)return;(_.data!==r||_.next)&&(E===0&&(E=ir(n),D+=E*E),F===0&&(F=ir(n),D+=F*F),D<u&&(D=Math.sqrt(u*D)));do _.data!==r&&(P=l[_.data.index]*i/D,r.vx+=E*P,r.vy+=F*P);while(_=_.next)}return h.initialize=function(_,T){t=_,n=T,d()},h.strength=function(_){return arguments.length?(f=typeof _=="function"?_:Yr(+_),d(),h):f},h.distanceMin=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h.distanceMax=function(_){return arguments.length?(c=_*_,h):Math.sqrt(c)},h.theta=function(_){return arguments.length?(p=_*_,h):Math.sqrt(p)},h}function pr(t,r,n){this.k=t,this.x=r,this.y=n}pr.prototype={constructor:pr,scale:function(t){return t===1?this:new pr(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new pr(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};pr.prototype;var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ai={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(t,r){(function(n,i){t.exports=i()})(Jh,function(){for(var n=function(e,a,o){return a===void 0&&(a=0),o===void 0&&(o=1),e<a?a:e>o?o:e},i=n,f=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var a=0;a<=3;a++)a<3?((e[a]<0||e[a]>255)&&(e._clipped=!0),e[a]=i(e[a],0,255)):a===3&&(e[a]=i(e[a],0,1));return e},l={},u=0,c=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];u<c.length;u+=1){var p=c[u];l["[object "+p+"]"]=p.toLowerCase()}var h=function(e){return l[Object.prototype.toString.call(e)]||"object"},d=h,k=function(e,a){return a===void 0&&(a=null),e.length>=3?Array.prototype.slice.call(e):d(e[0])=="object"&&a?a.split("").filter(function(o){return e[0][o]!==void 0}).map(function(o){return e[0][o]}):e[0]},x=h,_=function(e){if(e.length<2)return null;var a=e.length-1;return x(e[a])=="string"?e[a].toLowerCase():null},T=Math.PI,y={clip_rgb:f,limit:n,type:h,unpack:k,last:_,PI:T,TWOPI:T*2,PITHIRD:T/3,DEG2RAD:T/180,RAD2DEG:180/T},C={format:{},autodetect:[]},E=y.last,F=y.clip_rgb,P=y.type,D=C,ft=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];var s=this;if(P(a[0])==="object"&&a[0].constructor&&a[0].constructor===this.constructor)return a[0];var g=E(a),b=!1;if(!g){b=!0,D.sorted||(D.autodetect=D.autodetect.sort(function(N,R){return R.p-N.p}),D.sorted=!0);for(var v=0,m=D.autodetect;v<m.length;v+=1){var w=m[v];if(g=w.test.apply(w,a),g)break}}if(D.format[g]){var $=D.format[g].apply(null,b?a:a.slice(0,-1));s._rgb=F($)}else throw new Error("unknown format: "+a);s._rgb.length===3&&s._rgb.push(1)};ft.prototype.toString=function(){return P(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var O=ft,yt=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(yt.Color,[null].concat(e)))};yt.Color=O,yt.version="2.4.2";var V=yt,Wt=y.unpack,lt=Math.max,At=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=Wt(e,"rgb"),s=o[0],g=o[1],b=o[2];s=s/255,g=g/255,b=b/255;var v=1-lt(s,lt(g,b)),m=v<1?1/(1-v):0,w=(1-s-v)*m,$=(1-g-v)*m,N=(1-b-v)*m;return[w,$,N,v]},Ct=At,mt=y.unpack,Ci=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=mt(e,"cmyk");var o=e[0],s=e[1],g=e[2],b=e[3],v=e.length>4?e[4]:1;return b===1?[0,0,0,v]:[o>=1?0:255*(1-o)*(1-b),s>=1?0:255*(1-s)*(1-b),g>=1?0:255*(1-g)*(1-b),v]},Ei=Ci,Ti=V,Je=O,Ke=C,Fi=y.unpack,Ri=y.type,Si=Ct;Je.prototype.cmyk=function(){return Si(this._rgb)},Ti.cmyk=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(Je,[null].concat(e,["cmyk"])))},Ke.format.cmyk=Ei,Ke.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Fi(e,"cmyk"),Ri(e)==="array"&&e.length===4)return"cmyk"}});var Ii=y.unpack,Pi=y.last,Zr=function(e){return Math.round(e*100)/100},Li=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=Ii(e,"hsla"),s=Pi(e)||"lsa";return o[0]=Zr(o[0]||0),o[1]=Zr(o[1]*100)+"%",o[2]=Zr(o[2]*100)+"%",s==="hsla"||o.length>3&&o[3]<1?(o[3]=o.length>3?o[3]:1,s="hsla"):o.length=3,s+"("+o.join(",")+")"},Di=Li,Oi=y.unpack,zi=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=Oi(e,"rgba");var o=e[0],s=e[1],g=e[2];o/=255,s/=255,g/=255;var b=Math.min(o,s,g),v=Math.max(o,s,g),m=(v+b)/2,w,$;return v===b?(w=0,$=Number.NaN):w=m<.5?(v-b)/(v+b):(v-b)/(2-v-b),o==v?$=(s-g)/(v-b):s==v?$=2+(g-o)/(v-b):g==v&&($=4+(o-s)/(v-b)),$*=60,$<0&&($+=360),e.length>3&&e[3]!==void 0?[$,w,m,e[3]]:[$,w,m]},je=zi,Hi=y.unpack,qi=y.last,Xi=Di,Bi=je,Qr=Math.round,Gi=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=Hi(e,"rgba"),s=qi(e)||"rgb";return s.substr(0,3)=="hsl"?Xi(Bi(o),s):(o[0]=Qr(o[0]),o[1]=Qr(o[1]),o[2]=Qr(o[2]),(s==="rgba"||o.length>3&&o[3]<1)&&(o[3]=o.length>3?o[3]:1,s="rgba"),s+"("+o.slice(0,s==="rgb"?3:4).join(",")+")")},Yi=Gi,Vi=y.unpack,Jr=Math.round,Ui=function(){for(var e,a=[],o=arguments.length;o--;)a[o]=arguments[o];a=Vi(a,"hsl");var s=a[0],g=a[1],b=a[2],v,m,w;if(g===0)v=m=w=b*255;else{var $=[0,0,0],N=[0,0,0],R=b<.5?b*(1+g):b+g-b*g,M=2*b-R,I=s/360;$[0]=I+1/3,$[1]=I,$[2]=I-1/3;for(var S=0;S<3;S++)$[S]<0&&($[S]+=1),$[S]>1&&($[S]-=1),6*$[S]<1?N[S]=M+(R-M)*6*$[S]:2*$[S]<1?N[S]=R:3*$[S]<2?N[S]=M+(R-M)*(2/3-$[S])*6:N[S]=M;e=[Jr(N[0]*255),Jr(N[1]*255),Jr(N[2]*255)],v=e[0],m=e[1],w=e[2]}return a.length>3?[v,m,w,a[3]]:[v,m,w,1]},tn=Ui,rn=tn,en=C,nn=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,an=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,on=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,fn=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ln=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,un=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,sn=Math.round,cn=function(e){e=e.toLowerCase().trim();var a;if(en.format.named)try{return en.format.named(e)}catch{}if(a=e.match(nn)){for(var o=a.slice(1,4),s=0;s<3;s++)o[s]=+o[s];return o[3]=1,o}if(a=e.match(an)){for(var g=a.slice(1,5),b=0;b<4;b++)g[b]=+g[b];return g}if(a=e.match(on)){for(var v=a.slice(1,4),m=0;m<3;m++)v[m]=sn(v[m]*2.55);return v[3]=1,v}if(a=e.match(fn)){for(var w=a.slice(1,5),$=0;$<3;$++)w[$]=sn(w[$]*2.55);return w[3]=+w[3],w}if(a=e.match(ln)){var N=a.slice(1,4);N[1]*=.01,N[2]*=.01;var R=rn(N);return R[3]=1,R}if(a=e.match(un)){var M=a.slice(1,4);M[1]*=.01,M[2]*=.01;var I=rn(M);return I[3]=+a[4],I}};cn.test=function(e){return nn.test(e)||an.test(e)||on.test(e)||fn.test(e)||ln.test(e)||un.test(e)};var Wi=cn,Zi=V,hn=O,vn=C,Qi=y.type,Ji=Yi,gn=Wi;hn.prototype.css=function(e){return Ji(this._rgb,e)},Zi.css=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(hn,[null].concat(e,["css"])))},vn.format.css=gn,vn.autodetect.push({p:5,test:function(e){for(var a=[],o=arguments.length-1;o-- >0;)a[o]=arguments[o+1];if(!a.length&&Qi(e)==="string"&&gn.test(e))return"css"}});var pn=O,Ki=V,ji=C,to=y.unpack;ji.format.gl=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=to(e,"rgba");return o[0]*=255,o[1]*=255,o[2]*=255,o},Ki.gl=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(pn,[null].concat(e,["gl"])))},pn.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var ro=y.unpack,eo=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=ro(e,"rgb"),s=o[0],g=o[1],b=o[2],v=Math.min(s,g,b),m=Math.max(s,g,b),w=m-v,$=w*100/255,N=v/(255-w)*100,R;return w===0?R=Number.NaN:(s===m&&(R=(g-b)/w),g===m&&(R=2+(b-s)/w),b===m&&(R=4+(s-g)/w),R*=60,R<0&&(R+=360)),[R,$,N]},no=eo,ao=y.unpack,io=Math.floor,oo=function(){for(var e,a,o,s,g,b,v=[],m=arguments.length;m--;)v[m]=arguments[m];v=ao(v,"hcg");var w=v[0],$=v[1],N=v[2],R,M,I;N=N*255;var S=$*255;if($===0)R=M=I=N;else{w===360&&(w=0),w>360&&(w-=360),w<0&&(w+=360),w/=60;var z=io(w),X=w-z,G=N*(1-$),U=G+S*(1-X),it=G+S*X,at=G+S;switch(z){case 0:e=[at,it,G],R=e[0],M=e[1],I=e[2];break;case 1:a=[U,at,G],R=a[0],M=a[1],I=a[2];break;case 2:o=[G,at,it],R=o[0],M=o[1],I=o[2];break;case 3:s=[G,U,at],R=s[0],M=s[1],I=s[2];break;case 4:g=[it,G,at],R=g[0],M=g[1],I=g[2];break;case 5:b=[at,G,U],R=b[0],M=b[1],I=b[2];break}}return[R,M,I,v.length>3?v[3]:1]},fo=oo,lo=y.unpack,uo=y.type,so=V,dn=O,bn=C,co=no;dn.prototype.hcg=function(){return co(this._rgb)},so.hcg=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(dn,[null].concat(e,["hcg"])))},bn.format.hcg=fo,bn.autodetect.push({p:1,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=lo(e,"hcg"),uo(e)==="array"&&e.length===3)return"hcg"}});var ho=y.unpack,vo=y.last,xr=Math.round,go=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=ho(e,"rgba"),s=o[0],g=o[1],b=o[2],v=o[3],m=vo(e)||"auto";v===void 0&&(v=1),m==="auto"&&(m=v<1?"rgba":"rgb"),s=xr(s),g=xr(g),b=xr(b);var w=s<<16|g<<8|b,$="000000"+w.toString(16);$=$.substr($.length-6);var N="0"+xr(v*255).toString(16);switch(N=N.substr(N.length-2),m.toLowerCase()){case"rgba":return"#"+$+N;case"argb":return"#"+N+$;default:return"#"+$}},yn=go,po=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,bo=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,yo=function(e){if(e.match(po)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var a=parseInt(e,16),o=a>>16,s=a>>8&255,g=a&255;return[o,s,g,1]}if(e.match(bo)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var b=parseInt(e,16),v=b>>24&255,m=b>>16&255,w=b>>8&255,$=Math.round((b&255)/255*100)/100;return[v,m,w,$]}throw new Error("unknown hex color: "+e)},mn=yo,mo=V,_n=O,_o=y.type,wn=C,wo=yn;_n.prototype.hex=function(e){return wo(this._rgb,e)},mo.hex=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(_n,[null].concat(e,["hex"])))},wn.format.hex=mn,wn.autodetect.push({p:4,test:function(e){for(var a=[],o=arguments.length-1;o-- >0;)a[o]=arguments[o+1];if(!a.length&&_o(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var xo=y.unpack,xn=y.TWOPI,ko=Math.min,$o=Math.sqrt,No=Math.acos,Mo=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=xo(e,"rgb"),s=o[0],g=o[1],b=o[2];s/=255,g/=255,b/=255;var v,m=ko(s,g,b),w=(s+g+b)/3,$=w>0?1-m/w:0;return $===0?v=NaN:(v=(s-g+(s-b))/2,v/=$o((s-g)*(s-g)+(s-b)*(g-b)),v=No(v),b>g&&(v=xn-v),v/=xn),[v*360,$,w]},Ao=Mo,Co=y.unpack,Kr=y.limit,Zt=y.TWOPI,jr=y.PITHIRD,Qt=Math.cos,Eo=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=Co(e,"hsi");var o=e[0],s=e[1],g=e[2],b,v,m;return isNaN(o)&&(o=0),isNaN(s)&&(s=0),o>360&&(o-=360),o<0&&(o+=360),o/=360,o<1/3?(m=(1-s)/3,b=(1+s*Qt(Zt*o)/Qt(jr-Zt*o))/3,v=1-(m+b)):o<2/3?(o-=1/3,b=(1-s)/3,v=(1+s*Qt(Zt*o)/Qt(jr-Zt*o))/3,m=1-(b+v)):(o-=2/3,v=(1-s)/3,m=(1+s*Qt(Zt*o)/Qt(jr-Zt*o))/3,b=1-(v+m)),b=Kr(g*b*3),v=Kr(g*v*3),m=Kr(g*m*3),[b*255,v*255,m*255,e.length>3?e[3]:1]},To=Eo,Fo=y.unpack,Ro=y.type,So=V,kn=O,$n=C,Io=Ao;kn.prototype.hsi=function(){return Io(this._rgb)},So.hsi=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(kn,[null].concat(e,["hsi"])))},$n.format.hsi=To,$n.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Fo(e,"hsi"),Ro(e)==="array"&&e.length===3)return"hsi"}});var Po=y.unpack,Lo=y.type,Do=V,Nn=O,Mn=C,Oo=je;Nn.prototype.hsl=function(){return Oo(this._rgb)},Do.hsl=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(Nn,[null].concat(e,["hsl"])))},Mn.format.hsl=tn,Mn.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Po(e,"hsl"),Lo(e)==="array"&&e.length===3)return"hsl"}});var zo=y.unpack,Ho=Math.min,qo=Math.max,Xo=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=zo(e,"rgb");var o=e[0],s=e[1],g=e[2],b=Ho(o,s,g),v=qo(o,s,g),m=v-b,w,$,N;return N=v/255,v===0?(w=Number.NaN,$=0):($=m/v,o===v&&(w=(s-g)/m),s===v&&(w=2+(g-o)/m),g===v&&(w=4+(o-s)/m),w*=60,w<0&&(w+=360)),[w,$,N]},Bo=Xo,Go=y.unpack,Yo=Math.floor,Vo=function(){for(var e,a,o,s,g,b,v=[],m=arguments.length;m--;)v[m]=arguments[m];v=Go(v,"hsv");var w=v[0],$=v[1],N=v[2],R,M,I;if(N*=255,$===0)R=M=I=N;else{w===360&&(w=0),w>360&&(w-=360),w<0&&(w+=360),w/=60;var S=Yo(w),z=w-S,X=N*(1-$),G=N*(1-$*z),U=N*(1-$*(1-z));switch(S){case 0:e=[N,U,X],R=e[0],M=e[1],I=e[2];break;case 1:a=[G,N,X],R=a[0],M=a[1],I=a[2];break;case 2:o=[X,N,U],R=o[0],M=o[1],I=o[2];break;case 3:s=[X,G,N],R=s[0],M=s[1],I=s[2];break;case 4:g=[U,X,N],R=g[0],M=g[1],I=g[2];break;case 5:b=[N,X,G],R=b[0],M=b[1],I=b[2];break}}return[R,M,I,v.length>3?v[3]:1]},Uo=Vo,Wo=y.unpack,Zo=y.type,Qo=V,An=O,Cn=C,Jo=Bo;An.prototype.hsv=function(){return Jo(this._rgb)},Qo.hsv=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(An,[null].concat(e,["hsv"])))},Cn.format.hsv=Uo,Cn.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Wo(e,"hsv"),Zo(e)==="array"&&e.length===3)return"hsv"}});var kr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Jt=kr,Ko=y.unpack,En=Math.pow,jo=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=Ko(e,"rgb"),s=o[0],g=o[1],b=o[2],v=tf(s,g,b),m=v[0],w=v[1],$=v[2],N=116*w-16;return[N<0?0:N,500*(m-w),200*(w-$)]},te=function(e){return(e/=255)<=.04045?e/12.92:En((e+.055)/1.055,2.4)},re=function(e){return e>Jt.t3?En(e,1/3):e/Jt.t2+Jt.t0},tf=function(e,a,o){e=te(e),a=te(a),o=te(o);var s=re((.4124564*e+.3575761*a+.1804375*o)/Jt.Xn),g=re((.2126729*e+.7151522*a+.072175*o)/Jt.Yn),b=re((.0193339*e+.119192*a+.9503041*o)/Jt.Zn);return[s,g,b]},Tn=jo,Kt=kr,rf=y.unpack,ef=Math.pow,nf=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=rf(e,"lab");var o=e[0],s=e[1],g=e[2],b,v,m,w,$,N;return v=(o+16)/116,b=isNaN(s)?v:v+s/500,m=isNaN(g)?v:v-g/200,v=Kt.Yn*ne(v),b=Kt.Xn*ne(b),m=Kt.Zn*ne(m),w=ee(3.2404542*b-1.5371385*v-.4985314*m),$=ee(-.969266*b+1.8760108*v+.041556*m),N=ee(.0556434*b-.2040259*v+1.0572252*m),[w,$,N,e.length>3?e[3]:1]},ee=function(e){return 255*(e<=.00304?12.92*e:1.055*ef(e,1/2.4)-.055)},ne=function(e){return e>Kt.t1?e*e*e:Kt.t2*(e-Kt.t0)},Fn=nf,af=y.unpack,of=y.type,ff=V,Rn=O,Sn=C,lf=Tn;Rn.prototype.lab=function(){return lf(this._rgb)},ff.lab=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(Rn,[null].concat(e,["lab"])))},Sn.format.lab=Fn,Sn.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=af(e,"lab"),of(e)==="array"&&e.length===3)return"lab"}});var uf=y.unpack,sf=y.RAD2DEG,cf=Math.sqrt,hf=Math.atan2,vf=Math.round,gf=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=uf(e,"lab"),s=o[0],g=o[1],b=o[2],v=cf(g*g+b*b),m=(hf(b,g)*sf+360)%360;return vf(v*1e4)===0&&(m=Number.NaN),[s,v,m]},In=gf,pf=y.unpack,df=Tn,bf=In,yf=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=pf(e,"rgb"),s=o[0],g=o[1],b=o[2],v=df(s,g,b),m=v[0],w=v[1],$=v[2];return bf(m,w,$)},mf=yf,_f=y.unpack,wf=y.DEG2RAD,xf=Math.sin,kf=Math.cos,$f=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=_f(e,"lch"),s=o[0],g=o[1],b=o[2];return isNaN(b)&&(b=0),b=b*wf,[s,kf(b)*g,xf(b)*g]},Pn=$f,Nf=y.unpack,Mf=Pn,Af=Fn,Cf=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=Nf(e,"lch");var o=e[0],s=e[1],g=e[2],b=Mf(o,s,g),v=b[0],m=b[1],w=b[2],$=Af(v,m,w),N=$[0],R=$[1],M=$[2];return[N,R,M,e.length>3?e[3]:1]},Ln=Cf,Ef=y.unpack,Tf=Ln,Ff=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=Ef(e,"hcl").reverse();return Tf.apply(void 0,o)},Rf=Ff,Sf=y.unpack,If=y.type,Dn=V,$r=O,ae=C,On=mf;$r.prototype.lch=function(){return On(this._rgb)},$r.prototype.hcl=function(){return On(this._rgb).reverse()},Dn.lch=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply($r,[null].concat(e,["lch"])))},Dn.hcl=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply($r,[null].concat(e,["hcl"])))},ae.format.lch=Ln,ae.format.hcl=Rf,["lch","hcl"].forEach(function(e){return ae.autodetect.push({p:2,test:function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(a=Sf(a,e),If(a)==="array"&&a.length===3)return e}})});var Pf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},zn=Pf,Lf=O,Hn=C,Df=y.type,ur=zn,Of=mn,zf=yn;Lf.prototype.name=function(){for(var e=zf(this._rgb,"rgb"),a=0,o=Object.keys(ur);a<o.length;a+=1){var s=o[a];if(ur[s]===e)return s.toLowerCase()}return e},Hn.format.named=function(e){if(e=e.toLowerCase(),ur[e])return Of(ur[e]);throw new Error("unknown color name: "+e)},Hn.autodetect.push({p:5,test:function(e){for(var a=[],o=arguments.length-1;o-- >0;)a[o]=arguments[o+1];if(!a.length&&Df(e)==="string"&&ur[e.toLowerCase()])return"named"}});var Hf=y.unpack,qf=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=Hf(e,"rgb"),s=o[0],g=o[1],b=o[2];return(s<<16)+(g<<8)+b},Xf=qf,Bf=y.type,Gf=function(e){if(Bf(e)=="number"&&e>=0&&e<=16777215){var a=e>>16,o=e>>8&255,s=e&255;return[a,o,s,1]}throw new Error("unknown num color: "+e)},Yf=Gf,Vf=V,qn=O,Xn=C,Uf=y.type,Wf=Xf;qn.prototype.num=function(){return Wf(this._rgb)},Vf.num=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(qn,[null].concat(e,["num"])))},Xn.format.num=Yf,Xn.autodetect.push({p:5,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e.length===1&&Uf(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var Zf=V,ie=O,Bn=C,Gn=y.unpack,Yn=y.type,Vn=Math.round;ie.prototype.rgb=function(e){return e===void 0&&(e=!0),e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Vn)},ie.prototype.rgba=function(e){return e===void 0&&(e=!0),this._rgb.slice(0,4).map(function(a,o){return o<3?e===!1?a:Vn(a):a})},Zf.rgb=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(ie,[null].concat(e,["rgb"])))},Bn.format.rgb=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=Gn(e,"rgba");return o[3]===void 0&&(o[3]=1),o},Bn.autodetect.push({p:3,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Gn(e,"rgba"),Yn(e)==="array"&&(e.length===3||e.length===4&&Yn(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Nr=Math.log,Qf=function(e){var a=e/100,o,s,g;return a<66?(o=255,s=a<6?0:-155.25485562709179-.44596950469579133*(s=a-2)+104.49216199393888*Nr(s),g=a<20?0:-254.76935184120902+.8274096064007395*(g=a-10)+115.67994401066147*Nr(g)):(o=351.97690566805693+.114206453784165*(o=a-55)-40.25366309332127*Nr(o),s=325.4494125711974+.07943456536662342*(s=a-50)-28.0852963507957*Nr(s),g=255),[o,s,g,1]},Un=Qf,Jf=Un,Kf=y.unpack,jf=Math.round,tl=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];for(var o=Kf(e,"rgb"),s=o[0],g=o[2],b=1e3,v=4e4,m=.4,w;v-b>m;){w=(v+b)*.5;var $=Jf(w);$[2]/$[0]>=g/s?v=w:b=w}return jf(w)},rl=tl,oe=V,Mr=O,fe=C,el=rl;Mr.prototype.temp=Mr.prototype.kelvin=Mr.prototype.temperature=function(){return el(this._rgb)},oe.temp=oe.kelvin=oe.temperature=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(Mr,[null].concat(e,["temp"])))},fe.format.temp=fe.format.kelvin=fe.format.temperature=Un;var nl=y.unpack,le=Math.cbrt,al=Math.pow,il=Math.sign,ol=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=nl(e,"rgb"),s=o[0],g=o[1],b=o[2],v=[ue(s/255),ue(g/255),ue(b/255)],m=v[0],w=v[1],$=v[2],N=le(.4122214708*m+.5363325363*w+.0514459929*$),R=le(.2119034982*m+.6806995451*w+.1073969566*$),M=le(.0883024619*m+.2817188376*w+.6299787005*$);return[.2104542553*N+.793617785*R-.0040720468*M,1.9779984951*N-2.428592205*R+.4505937099*M,.0259040371*N+.7827717662*R-.808675766*M]},Wn=ol;function ue(e){var a=Math.abs(e);return a<.04045?e/12.92:(il(e)||1)*al((a+.055)/1.055,2.4)}var fl=y.unpack,Ar=Math.pow,ll=Math.sign,ul=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=fl(e,"lab");var o=e[0],s=e[1],g=e[2],b=Ar(o+.3963377774*s+.2158037573*g,3),v=Ar(o-.1055613458*s-.0638541728*g,3),m=Ar(o-.0894841775*s-1.291485548*g,3);return[255*se(4.0767416621*b-3.3077115913*v+.2309699292*m),255*se(-1.2684380046*b+2.6097574011*v-.3413193965*m),255*se(-.0041960863*b-.7034186147*v+1.707614701*m),e.length>3?e[3]:1]},Zn=ul;function se(e){var a=Math.abs(e);return a>.0031308?(ll(e)||1)*(1.055*Ar(a,1/2.4)-.055):e*12.92}var sl=y.unpack,cl=y.type,hl=V,Qn=O,Jn=C,vl=Wn;Qn.prototype.oklab=function(){return vl(this._rgb)},hl.oklab=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(Qn,[null].concat(e,["oklab"])))},Jn.format.oklab=Zn,Jn.autodetect.push({p:3,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=sl(e,"oklab"),cl(e)==="array"&&e.length===3)return"oklab"}});var gl=y.unpack,pl=Wn,dl=In,bl=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=gl(e,"rgb"),s=o[0],g=o[1],b=o[2],v=pl(s,g,b),m=v[0],w=v[1],$=v[2];return dl(m,w,$)},yl=bl,ml=y.unpack,_l=Pn,wl=Zn,xl=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];e=ml(e,"lch");var o=e[0],s=e[1],g=e[2],b=_l(o,s,g),v=b[0],m=b[1],w=b[2],$=wl(v,m,w),N=$[0],R=$[1],M=$[2];return[N,R,M,e.length>3?e[3]:1]},kl=xl,$l=y.unpack,Nl=y.type,Ml=V,Kn=O,jn=C,Al=yl;Kn.prototype.oklch=function(){return Al(this._rgb)},Ml.oklch=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return new(Function.prototype.bind.apply(Kn,[null].concat(e,["oklch"])))},jn.format.oklch=kl,jn.autodetect.push({p:3,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=$l(e,"oklch"),Nl(e)==="array"&&e.length===3)return"oklch"}});var ta=O,Cl=y.type;ta.prototype.alpha=function(e,a){return a===void 0&&(a=!1),e!==void 0&&Cl(e)==="number"?a?(this._rgb[3]=e,this):new ta([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};var El=O;El.prototype.clipped=function(){return this._rgb._clipped||!1};var Ht=O,Tl=kr;Ht.prototype.darken=function(e){e===void 0&&(e=1);var a=this,o=a.lab();return o[0]-=Tl.Kn*e,new Ht(o,"lab").alpha(a.alpha(),!0)},Ht.prototype.brighten=function(e){return e===void 0&&(e=1),this.darken(-e)},Ht.prototype.darker=Ht.prototype.darken,Ht.prototype.brighter=Ht.prototype.brighten;var Fl=O;Fl.prototype.get=function(e){var a=e.split("."),o=a[0],s=a[1],g=this[o]();if(s){var b=o.indexOf(s)-(o.substr(0,2)==="ok"?2:0);if(b>-1)return g[b];throw new Error("unknown channel "+s+" in mode "+o)}else return g};var jt=O,Rl=y.type,Sl=Math.pow,Il=1e-7,Pl=20;jt.prototype.luminance=function(e){if(e!==void 0&&Rl(e)==="number"){if(e===0)return new jt([0,0,0,this._rgb[3]],"rgb");if(e===1)return new jt([255,255,255,this._rgb[3]],"rgb");var a=this.luminance(),o="rgb",s=Pl,g=function(v,m){var w=v.interpolate(m,.5,o),$=w.luminance();return Math.abs(e-$)<Il||!s--?w:$>e?g(v,w):g(w,m)},b=(a>e?g(new jt([0,0,0]),this):g(this,new jt([255,255,255]))).rgb();return new jt(b.concat([this._rgb[3]]))}return Ll.apply(void 0,this._rgb.slice(0,3))};var Ll=function(e,a,o){return e=ce(e),a=ce(a),o=ce(o),.2126*e+.7152*a+.0722*o},ce=function(e){return e/=255,e<=.03928?e/12.92:Sl((e+.055)/1.055,2.4)},pt={},ra=O,ea=y.type,Cr=pt,na=function(e,a,o){o===void 0&&(o=.5);for(var s=[],g=arguments.length-3;g-- >0;)s[g]=arguments[g+3];var b=s[0]||"lrgb";if(!Cr[b]&&!s.length&&(b=Object.keys(Cr)[0]),!Cr[b])throw new Error("interpolation mode "+b+" is not defined");return ea(e)!=="object"&&(e=new ra(e)),ea(a)!=="object"&&(a=new ra(a)),Cr[b](e,a,o).alpha(e.alpha()+o*(a.alpha()-e.alpha()))},aa=O,Dl=na;aa.prototype.mix=aa.prototype.interpolate=function(e,a){a===void 0&&(a=.5);for(var o=[],s=arguments.length-2;s-- >0;)o[s]=arguments[s+2];return Dl.apply(void 0,[this,e,a].concat(o))};var ia=O;ia.prototype.premultiply=function(e){e===void 0&&(e=!1);var a=this._rgb,o=a[3];return e?(this._rgb=[a[0]*o,a[1]*o,a[2]*o,o],this):new ia([a[0]*o,a[1]*o,a[2]*o,o],"rgb")};var he=O,Ol=kr;he.prototype.saturate=function(e){e===void 0&&(e=1);var a=this,o=a.lch();return o[1]+=Ol.Kn*e,o[1]<0&&(o[1]=0),new he(o,"lch").alpha(a.alpha(),!0)},he.prototype.desaturate=function(e){return e===void 0&&(e=1),this.saturate(-e)};var oa=O,fa=y.type;oa.prototype.set=function(e,a,o){o===void 0&&(o=!1);var s=e.split("."),g=s[0],b=s[1],v=this[g]();if(b){var m=g.indexOf(b)-(g.substr(0,2)==="ok"?2:0);if(m>-1){if(fa(a)=="string")switch(a.charAt(0)){case"+":v[m]+=+a;break;case"-":v[m]+=+a;break;case"*":v[m]*=+a.substr(1);break;case"/":v[m]/=+a.substr(1);break;default:v[m]=+a}else if(fa(a)==="number")v[m]=a;else throw new Error("unsupported value for Color.set");var w=new oa(v,g);return o?(this._rgb=w._rgb,this):w}throw new Error("unknown channel "+b+" in mode "+g)}else return v};var zl=O,Hl=function(e,a,o){var s=e._rgb,g=a._rgb;return new zl(s[0]+o*(g[0]-s[0]),s[1]+o*(g[1]-s[1]),s[2]+o*(g[2]-s[2]),"rgb")};pt.rgb=Hl;var ql=O,ve=Math.sqrt,tr=Math.pow,Xl=function(e,a,o){var s=e._rgb,g=s[0],b=s[1],v=s[2],m=a._rgb,w=m[0],$=m[1],N=m[2];return new ql(ve(tr(g,2)*(1-o)+tr(w,2)*o),ve(tr(b,2)*(1-o)+tr($,2)*o),ve(tr(v,2)*(1-o)+tr(N,2)*o),"rgb")};pt.lrgb=Xl;var Bl=O,Gl=function(e,a,o){var s=e.lab(),g=a.lab();return new Bl(s[0]+o*(g[0]-s[0]),s[1]+o*(g[1]-s[1]),s[2]+o*(g[2]-s[2]),"lab")};pt.lab=Gl;var la=O,rr=function(e,a,o,s){var g,b,v,m;s==="hsl"?(v=e.hsl(),m=a.hsl()):s==="hsv"?(v=e.hsv(),m=a.hsv()):s==="hcg"?(v=e.hcg(),m=a.hcg()):s==="hsi"?(v=e.hsi(),m=a.hsi()):s==="lch"||s==="hcl"?(s="hcl",v=e.hcl(),m=a.hcl()):s==="oklch"&&(v=e.oklch().reverse(),m=a.oklch().reverse());var w,$,N,R,M,I;(s.substr(0,1)==="h"||s==="oklch")&&(g=v,w=g[0],N=g[1],M=g[2],b=m,$=b[0],R=b[1],I=b[2]);var S,z,X,G;return!isNaN(w)&&!isNaN($)?($>w&&$-w>180?G=$-(w+360):$<w&&w-$>180?G=$+360-w:G=$-w,z=w+o*G):isNaN(w)?isNaN($)?z=Number.NaN:(z=$,(M==1||M==0)&&s!="hsv"&&(S=R)):(z=w,(I==1||I==0)&&s!="hsv"&&(S=N)),S===void 0&&(S=N+o*(R-N)),X=M+o*(I-M),s==="oklch"?new la([X,S,z],s):new la([z,S,X],s)},Yl=rr,ua=function(e,a,o){return Yl(e,a,o,"lch")};pt.lch=ua,pt.hcl=ua;var Vl=O,Ul=function(e,a,o){var s=e.num(),g=a.num();return new Vl(s+o*(g-s),"num")};pt.num=Ul;var Wl=rr,Zl=function(e,a,o){return Wl(e,a,o,"hcg")};pt.hcg=Zl;var Ql=rr,Jl=function(e,a,o){return Ql(e,a,o,"hsi")};pt.hsi=Jl;var Kl=rr,jl=function(e,a,o){return Kl(e,a,o,"hsl")};pt.hsl=jl;var tu=rr,ru=function(e,a,o){return tu(e,a,o,"hsv")};pt.hsv=ru;var eu=O,nu=function(e,a,o){var s=e.oklab(),g=a.oklab();return new eu(s[0]+o*(g[0]-s[0]),s[1]+o*(g[1]-s[1]),s[2]+o*(g[2]-s[2]),"oklab")};pt.oklab=nu;var au=rr,iu=function(e,a,o){return au(e,a,o,"oklch")};pt.oklch=iu;var ge=O,ou=y.clip_rgb,pe=Math.pow,de=Math.sqrt,be=Math.PI,sa=Math.cos,ca=Math.sin,fu=Math.atan2,lu=function(e,a,o){a===void 0&&(a="lrgb"),o===void 0&&(o=null);var s=e.length;o||(o=Array.from(new Array(s)).map(function(){return 1}));var g=s/o.reduce(function(z,X){return z+X});if(o.forEach(function(z,X){o[X]*=g}),e=e.map(function(z){return new ge(z)}),a==="lrgb")return uu(e,o);for(var b=e.shift(),v=b.get(a),m=[],w=0,$=0,N=0;N<v.length;N++)if(v[N]=(v[N]||0)*o[0],m.push(isNaN(v[N])?0:o[0]),a.charAt(N)==="h"&&!isNaN(v[N])){var R=v[N]/180*be;w+=sa(R)*o[0],$+=ca(R)*o[0]}var M=b.alpha()*o[0];e.forEach(function(z,X){var G=z.get(a);M+=z.alpha()*o[X+1];for(var U=0;U<v.length;U++)if(!isNaN(G[U]))if(m[U]+=o[X+1],a.charAt(U)==="h"){var it=G[U]/180*be;w+=sa(it)*o[X+1],$+=ca(it)*o[X+1]}else v[U]+=G[U]*o[X+1]});for(var I=0;I<v.length;I++)if(a.charAt(I)==="h"){for(var S=fu($/m[I],w/m[I])/be*180;S<0;)S+=360;for(;S>=360;)S-=360;v[I]=S}else v[I]=v[I]/m[I];return M/=s,new ge(v,a).alpha(M>.99999?1:M,!0)},uu=function(e,a){for(var o=e.length,s=[0,0,0,0],g=0;g<e.length;g++){var b=e[g],v=a[g]/o,m=b._rgb;s[0]+=pe(m[0],2)*v,s[1]+=pe(m[1],2)*v,s[2]+=pe(m[2],2)*v,s[3]+=m[3]*v}return s[0]=de(s[0]),s[1]=de(s[1]),s[2]=de(s[2]),s[3]>.9999999&&(s[3]=1),new ge(ou(s))},_t=V,er=y.type,su=Math.pow,ye=function(e){var a="rgb",o=_t("#ccc"),s=0,g=[0,1],b=[],v=[0,0],m=!1,w=[],$=!1,N=0,R=1,M=!1,I={},S=!0,z=1,X=function(A){if(A=A||["#fff","#000"],A&&er(A)==="string"&&_t.brewer&&_t.brewer[A.toLowerCase()]&&(A=_t.brewer[A.toLowerCase()]),er(A)==="array"){A.length===1&&(A=[A[0],A[0]]),A=A.slice(0);for(var L=0;L<A.length;L++)A[L]=_t(A[L]);b.length=0;for(var q=0;q<A.length;q++)b.push(q/(A.length-1))}return ht(),w=A},G=function(A){if(m!=null){for(var L=m.length-1,q=0;q<L&&A>=m[q];)q++;return q-1}return 0},U=function(A){return A},it=function(A){return A},at=function(A,L){var q,H;if(L==null&&(L=!1),isNaN(A)||A===null)return o;if(L)H=A;else if(m&&m.length>2){var ot=G(A);H=ot/(m.length-2)}else R!==N?H=(A-N)/(R-N):H=1;H=it(H),L||(H=U(H)),z!==1&&(H=su(H,z)),H=v[0]+H*(1-v[0]-v[1]),H=Math.min(1,Math.max(0,H));var J=Math.floor(H*1e4);if(S&&I[J])q=I[J];else{if(er(w)==="array")for(var Y=0;Y<b.length;Y++){var W=b[Y];if(H<=W){q=w[Y];break}if(H>=W&&Y===b.length-1){q=w[Y];break}if(H>W&&H<b[Y+1]){H=(H-W)/(b[Y+1]-W),q=_t.interpolate(w[Y],w[Y+1],H,a);break}}else er(w)==="function"&&(q=w(H));S&&(I[J]=q)}return q},ht=function(){return I={}};X(e);var B=function(A){var L=_t(at(A));return $&&L[$]?L[$]():L};return B.classes=function(A){if(A!=null){if(er(A)==="array")m=A,g=[A[0],A[A.length-1]];else{var L=_t.analyze(g);A===0?m=[L.min,L.max]:m=_t.limits(L,"e",A)}return B}return m},B.domain=function(A){if(!arguments.length)return g;N=A[0],R=A[A.length-1],b=[];var L=w.length;if(A.length===L&&N!==R)for(var q=0,H=Array.from(A);q<H.length;q+=1){var ot=H[q];b.push((ot-N)/(R-N))}else{for(var J=0;J<L;J++)b.push(J/(L-1));if(A.length>2){var Y=A.map(function(Z,Q){return Q/(A.length-1)}),W=A.map(function(Z){return(Z-N)/(R-N)});W.every(function(Z,Q){return Y[Q]===Z})||(it=function(Z){if(Z<=0||Z>=1)return Z;for(var Q=0;Z>=W[Q+1];)Q++;var xt=(Z-W[Q])/(W[Q+1]-W[Q]),Dt=Y[Q]+xt*(Y[Q+1]-Y[Q]);return Dt})}}return g=[N,R],B},B.mode=function(A){return arguments.length?(a=A,ht(),B):a},B.range=function(A,L){return X(A),B},B.out=function(A){return $=A,B},B.spread=function(A){return arguments.length?(s=A,B):s},B.correctLightness=function(A){return A==null&&(A=!0),M=A,ht(),M?U=function(L){for(var q=at(0,!0).lab()[0],H=at(1,!0).lab()[0],ot=q>H,J=at(L,!0).lab()[0],Y=q+(H-q)*L,W=J-Y,Z=0,Q=1,xt=20;Math.abs(W)>.01&&xt-- >0;)(function(){return ot&&(W*=-1),W<0?(Z=L,L+=(Q-L)*.5):(Q=L,L+=(Z-L)*.5),J=at(L,!0).lab()[0],W=J-Y})();return L}:U=function(L){return L},B},B.padding=function(A){return A!=null?(er(A)==="number"&&(A=[A,A]),v=A,B):v},B.colors=function(A,L){arguments.length<2&&(L="hex");var q=[];if(arguments.length===0)q=w.slice(0);else if(A===1)q=[B(.5)];else if(A>1){var H=g[0],ot=g[1]-H;q=cu(0,A,!1).map(function(Q){return B(H+Q/(A-1)*ot)})}else{e=[];var J=[];if(m&&m.length>2)for(var Y=1,W=m.length,Z=1<=W;Z?Y<W:Y>W;Z?Y++:Y--)J.push((m[Y-1]+m[Y])*.5);else J=g;q=J.map(function(Q){return B(Q)})}return _t[L]&&(q=q.map(function(Q){return Q[L]()})),q},B.cache=function(A){return A!=null?(S=A,B):S},B.gamma=function(A){return A!=null?(z=A,B):z},B.nodata=function(A){return A!=null?(o=_t(A),B):o},B};function cu(e,a,o){for(var s=[],g=e<a,b=o?g?a+1:a-1:a,v=e;g?v<b:v>b;g?v++:v--)s.push(v);return s}var sr=O,hu=ye,vu=function(e){for(var a=[1,1],o=1;o<e;o++){for(var s=[1],g=1;g<=a.length;g++)s[g]=(a[g]||0)+a[g-1];a=s}return a},gu=function(e){var a,o,s,g,b,v,m;if(e=e.map(function(M){return new sr(M)}),e.length===2)a=e.map(function(M){return M.lab()}),b=a[0],v=a[1],g=function(M){var I=[0,1,2].map(function(S){return b[S]+M*(v[S]-b[S])});return new sr(I,"lab")};else if(e.length===3)o=e.map(function(M){return M.lab()}),b=o[0],v=o[1],m=o[2],g=function(M){var I=[0,1,2].map(function(S){return(1-M)*(1-M)*b[S]+2*(1-M)*M*v[S]+M*M*m[S]});return new sr(I,"lab")};else if(e.length===4){var w;s=e.map(function(M){return M.lab()}),b=s[0],v=s[1],m=s[2],w=s[3],g=function(M){var I=[0,1,2].map(function(S){return(1-M)*(1-M)*(1-M)*b[S]+3*(1-M)*(1-M)*M*v[S]+3*(1-M)*M*M*m[S]+M*M*M*w[S]});return new sr(I,"lab")}}else if(e.length>=5){var $,N,R;$=e.map(function(M){return M.lab()}),R=e.length-1,N=vu(R),g=function(M){var I=1-M,S=[0,1,2].map(function(z){return $.reduce(function(X,G,U){return X+N[U]*Math.pow(I,R-U)*Math.pow(M,U)*G[z]},0)});return new sr(S,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return g},pu=function(e){var a=gu(e);return a.scale=function(){return hu(a)},a},me=V,wt=function(e,a,o){if(!wt[o])throw new Error("unknown blend mode "+o);return wt[o](e,a)},Pt=function(e){return function(a,o){var s=me(o).rgb(),g=me(a).rgb();return me.rgb(e(s,g))}},Lt=function(e){return function(a,o){var s=[];return s[0]=e(a[0],o[0]),s[1]=e(a[1],o[1]),s[2]=e(a[2],o[2]),s}},du=function(e){return e},bu=function(e,a){return e*a/255},yu=function(e,a){return e>a?a:e},mu=function(e,a){return e>a?e:a},_u=function(e,a){return 255*(1-(1-e/255)*(1-a/255))},wu=function(e,a){return a<128?2*e*a/255:255*(1-2*(1-e/255)*(1-a/255))},xu=function(e,a){return 255*(1-(1-a/255)/(e/255))},ku=function(e,a){return e===255?255:(e=255*(a/255)/(1-e/255),e>255?255:e)};wt.normal=Pt(Lt(du)),wt.multiply=Pt(Lt(bu)),wt.screen=Pt(Lt(_u)),wt.overlay=Pt(Lt(wu)),wt.darken=Pt(Lt(yu)),wt.lighten=Pt(Lt(mu)),wt.dodge=Pt(Lt(ku)),wt.burn=Pt(Lt(xu));for(var $u=wt,_e=y.type,Nu=y.clip_rgb,Mu=y.TWOPI,Au=Math.pow,Cu=Math.sin,Eu=Math.cos,ha=V,Tu=function(e,a,o,s,g){e===void 0&&(e=300),a===void 0&&(a=-1.5),o===void 0&&(o=1),s===void 0&&(s=1),g===void 0&&(g=[0,1]);var b=0,v;_e(g)==="array"?v=g[1]-g[0]:(v=0,g=[g,g]);var m=function(w){var $=Mu*((e+120)/360+a*w),N=Au(g[0]+v*w,s),R=b!==0?o[0]+w*b:o,M=R*N*(1-N)/2,I=Eu($),S=Cu($),z=N+M*(-.14861*I+1.78277*S),X=N+M*(-.29227*I-.90649*S),G=N+M*(1.97294*I);return ha(Nu([z*255,X*255,G*255,1]))};return m.start=function(w){return w==null?e:(e=w,m)},m.rotations=function(w){return w==null?a:(a=w,m)},m.gamma=function(w){return w==null?s:(s=w,m)},m.hue=function(w){return w==null?o:(o=w,_e(o)==="array"?(b=o[1]-o[0],b===0&&(o=o[1])):b=0,m)},m.lightness=function(w){return w==null?g:(_e(w)==="array"?(g=w,v=w[1]-w[0]):(g=[w,w],v=0),m)},m.scale=function(){return ha.scale(m)},m.hue(o),m},Fu=O,Ru="0123456789abcdef",Su=Math.floor,Iu=Math.random,Pu=function(){for(var e="#",a=0;a<6;a++)e+=Ru.charAt(Su(Iu()*16));return new Fu(e,"hex")},we=h,va=Math.log,Lu=Math.pow,Du=Math.floor,Ou=Math.abs,ga=function(e,a){a===void 0&&(a=null);var o={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return we(e)==="object"&&(e=Object.values(e)),e.forEach(function(s){a&&we(s)==="object"&&(s=s[a]),s!=null&&!isNaN(s)&&(o.values.push(s),o.sum+=s,s<o.min&&(o.min=s),s>o.max&&(o.max=s),o.count+=1)}),o.domain=[o.min,o.max],o.limits=function(s,g){return pa(o,s,g)},o},pa=function(e,a,o){a===void 0&&(a="equal"),o===void 0&&(o=7),we(e)=="array"&&(e=ga(e));var s=e.min,g=e.max,b=e.values.sort(function(ke,$e){return ke-$e});if(o===1)return[s,g];var v=[];if(a.substr(0,1)==="c"&&(v.push(s),v.push(g)),a.substr(0,1)==="e"){v.push(s);for(var m=1;m<o;m++)v.push(s+m/o*(g-s));v.push(g)}else if(a.substr(0,1)==="l"){if(s<=0)throw new Error("Logarithmic scales are only possible for values > 0");var w=Math.LOG10E*va(s),$=Math.LOG10E*va(g);v.push(s);for(var N=1;N<o;N++)v.push(Lu(10,w+N/o*($-w)));v.push(g)}else if(a.substr(0,1)==="q"){v.push(s);for(var R=1;R<o;R++){var M=(b.length-1)*R/o,I=Du(M);if(I===M)v.push(b[I]);else{var S=M-I;v.push(b[I]*(1-S)+b[I+1]*S)}}v.push(g)}else if(a.substr(0,1)==="k"){var z,X=b.length,G=new Array(X),U=new Array(o),it=!0,at=0,ht=null;ht=[],ht.push(s);for(var B=1;B<o;B++)ht.push(s+B/o*(g-s));for(ht.push(g);it;){for(var A=0;A<o;A++)U[A]=0;for(var L=0;L<X;L++)for(var q=b[L],H=Number.MAX_VALUE,ot=void 0,J=0;J<o;J++){var Y=Ou(ht[J]-q);Y<H&&(H=Y,ot=J),U[ot]++,G[L]=ot}for(var W=new Array(o),Z=0;Z<o;Z++)W[Z]=null;for(var Q=0;Q<X;Q++)z=G[Q],W[z]===null?W[z]=b[Q]:W[z]+=b[Q];for(var xt=0;xt<o;xt++)W[xt]*=1/U[xt];it=!1;for(var Dt=0;Dt<o;Dt++)if(W[Dt]!==ht[Dt]){it=!0;break}ht=W,at++,at>200&&(it=!1)}for(var Ot={},nr=0;nr<o;nr++)Ot[nr]=[];for(var ar=0;ar<X;ar++)z=G[ar],Ot[z].push(b[ar]);for(var Rt=[],qt=0;qt<o;qt++)Rt.push(Ot[qt][0]),Rt.push(Ot[qt][Ot[qt].length-1]);Rt=Rt.sort(function(ke,$e){return ke-$e}),v.push(Rt[0]);for(var cr=1;cr<Rt.length;cr+=2){var Xt=Rt[cr];!isNaN(Xt)&&v.indexOf(Xt)===-1&&v.push(Xt)}}return v},da={analyze:ga,limits:pa},ba=O,zu=function(e,a){e=new ba(e),a=new ba(a);var o=e.luminance(),s=a.luminance();return o>s?(o+.05)/(s+.05):(s+.05)/(o+.05)},ya=O,Ft=Math.sqrt,tt=Math.pow,Hu=Math.min,qu=Math.max,ma=Math.atan2,_a=Math.abs,Er=Math.cos,wa=Math.sin,Xu=Math.exp,xa=Math.PI,Bu=function(e,a,o,s,g){o===void 0&&(o=1),s===void 0&&(s=1),g===void 0&&(g=1);var b=function(Xt){return 360*Xt/(2*xa)},v=function(Xt){return 2*xa*Xt/360};e=new ya(e),a=new ya(a);var m=Array.from(e.lab()),w=m[0],$=m[1],N=m[2],R=Array.from(a.lab()),M=R[0],I=R[1],S=R[2],z=(w+M)/2,X=Ft(tt($,2)+tt(N,2)),G=Ft(tt(I,2)+tt(S,2)),U=(X+G)/2,it=.5*(1-Ft(tt(U,7)/(tt(U,7)+tt(25,7)))),at=$*(1+it),ht=I*(1+it),B=Ft(tt(at,2)+tt(N,2)),A=Ft(tt(ht,2)+tt(S,2)),L=(B+A)/2,q=b(ma(N,at)),H=b(ma(S,ht)),ot=q>=0?q:q+360,J=H>=0?H:H+360,Y=_a(ot-J)>180?(ot+J+360)/2:(ot+J)/2,W=1-.17*Er(v(Y-30))+.24*Er(v(2*Y))+.32*Er(v(3*Y+6))-.2*Er(v(4*Y-63)),Z=J-ot;Z=_a(Z)<=180?Z:J<=ot?Z+360:Z-360,Z=2*Ft(B*A)*wa(v(Z)/2);var Q=M-w,xt=A-B,Dt=1+.015*tt(z-50,2)/Ft(20+tt(z-50,2)),Ot=1+.045*L,nr=1+.015*L*W,ar=30*Xu(-tt((Y-275)/25,2)),Rt=2*Ft(tt(L,7)/(tt(L,7)+tt(25,7))),qt=-Rt*wa(2*v(ar)),cr=Ft(tt(Q/(o*Dt),2)+tt(xt/(s*Ot),2)+tt(Z/(g*nr),2)+qt*(xt/(s*Ot))*(Z/(g*nr)));return qu(0,Hu(100,cr))},ka=O,Gu=function(e,a,o){o===void 0&&(o="lab"),e=new ka(e),a=new ka(a);var s=e.get(o),g=a.get(o),b=0;for(var v in s){var m=(s[v]||0)-(g[v]||0);b+=m*m}return Math.sqrt(b)},Yu=O,Vu=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];try{return new(Function.prototype.bind.apply(Yu,[null].concat(e))),!0}catch{return!1}},$a=V,Na=ye,Uu={cool:function(){return Na([$a.hsl(180,1,.9),$a.hsl(250,.7,.4)])},hot:function(){return Na(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Tr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},xe=0,Ma=Object.keys(Tr);xe<Ma.length;xe+=1){var Aa=Ma[xe];Tr[Aa.toLowerCase()]=Tr[Aa]}var Wu=Tr,nt=V;nt.average=lu,nt.bezier=pu,nt.blend=$u,nt.cubehelix=Tu,nt.mix=nt.interpolate=na,nt.random=Pu,nt.scale=ye,nt.analyze=da.analyze,nt.contrast=zu,nt.deltaE=Bu,nt.distance=Gu,nt.limits=da.limits,nt.valid=Vu,nt.scales=Uu,nt.colors=zn,nt.brewer=Wu;var Zu=nt;return Zu})})(Ai);var jh=Ai.exports;const tv=Kh(jh);function rv(t){let r,n,i;return{c(){r=rt("body"),n=rt("div"),i=ju("svg"),this.h()},l(f){r=et(f,"BODY",{});var l=bt(r);n=et(l,"DIV",{id:!0});var u=bt(n);i=ts(u,"svg",{width:!0,height:!0}),bt(i).forEach(K),u.forEach(K),l.forEach(K),this.h()},h(){ut(i,"width","1000"),ut(i,"height","1000"),ut(n,"id","content")},m(f,l){vt(f,r,l),j(r,n),j(n,i),t[1](i)},p:Gt,i:Gt,o:Gt,d(f){f&&K(r),t[1](null)}}}function ev(t,r,n){let i,f;Te.subscribe(c=>{f=c,l()});function l(){Me(i).selectAll("*").remove();const h=tv.scale(["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"]).mode("lch"),d=Object.entries(f).map(([x,_],T)=>({genre:x,count:_,x:Math.random()*(800-2*_*5)+_*5,y:Math.random()*(800-2*_*5)+_*5,color:h(T/Object.keys(f).length).hex()}));Zh(d).force("charge",Qh().strength(30)).force("center",xh(800/2,800/2)).force("collision",qh().radius(function(x){return x.count*15})).on("tick",k);function k(){Me(i).selectAll("circle").data(d).join("circle").attr("r",x=>x.count*15).attr("cx",x=>x.x=Math.max(x.count*15,Math.min(800-x.count*15,x.x))).attr("cy",x=>x.y=Math.max(x.count*15,Math.min(800-x.count*15,x.y))).style("fill",x=>x.color).append("title").text(x=>`${x.genre}: ${x.count}`),Me(i).selectAll("text").data(d.filter(x=>x.count*15>x.genre.length*5)).join("text").attr("x",x=>x.x).attr("y",x=>x.y).text(x=>x.genre).style("text-anchor","middle").attr("dy",".35em").style("fill","white")}}function u(c){Ju[c?"unshift":"push"](()=>{i=c,n(0,i)})}return[i,u]}class nv extends ze{constructor(r){super(),He(this,r,ev,rv,Oe,{})}}function av(t){let r,n,i,f,l,u,c,p,h,d;return l=new os({}),c=new nv({}),{c(){r=rt("header"),n=$t(),i=rt("body"),f=rt("main"),Ea(l.$$.fragment),u=$t(),Ea(c.$$.fragment),p=$t(),h=rt("footer")},l(k){r=et(k,"HEADER",{}),bt(r).forEach(K),n=Nt(k),i=et(k,"BODY",{});var x=bt(i);f=et(x,"MAIN",{});var _=bt(f);Ta(l.$$.fragment,_),u=Nt(_),Ta(c.$$.fragment,_),_.forEach(K),x.forEach(K),p=Nt(k),h=et(k,"FOOTER",{}),bt(h).forEach(K)},m(k,x){vt(k,r,x),vt(k,n,x),vt(k,i,x),j(i,f),Fa(l,f,null),j(f,u),Fa(c,f,null),vt(k,p,x),vt(k,h,x),d=!0},p:Gt,i(k){d||(Ra(l.$$.fragment,k),Ra(c.$$.fragment,k),d=!0)},o(k){Sa(l.$$.fragment,k),Sa(c.$$.fragment,k),d=!1},d(k){k&&(K(r),K(n),K(i),K(p),K(h)),Ia(l),Ia(c)}}}class lv extends ze{constructor(r){super(),He(this,r,null,av,Oe,{})}}export{lv as component};
